{
  "resourceType": "Library",
  "id": "NHSNGlycemicControlHypoglycemiaInitialPopulation",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "text": {
    "status": "extensions",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"col-12\">\n  <table class=\"narrative-table\">\n    <tbody>\n<tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Knowledge Artifact Metadata</th>\n\n</tr>\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Name (machine-readable)</th>\n\n<td class=\"content-container\">NHSNGlycemicControlHypoglycemiaInitialPopulation</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Title (human-readable)</th>\n\n<td class=\"content-container\">NHSNGlycemicControlHypoglycemiaInitialPopulation</td>\n</tr>\n\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Status</th>\n\n<td class=\"content-container\">active</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Experimental</th>\n\n<td class=\"content-container\">false</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n<td class=\"content-container\">NHSNGlycemicControlHypoglycemiaInitialPopulation</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Library Steward</th>\n\n<td class=\"content-container\">Centers for Disease Control and Prevention (CDC)</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library FHIRHelpers\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/FHIRHelpers|4.4.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/FHIRHelpers|4.4.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library QICoreCommon\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/QICoreCommon|4.0.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/QICoreCommon|4.0.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library CQMCommon\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/CQMCommon|4.1.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/CQMCommon|4.1.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library SDE\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/SupplementalDataElements|5.1.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/SupplementalDataElements|5.1.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Encounter Inpatient\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Inpatient, Emergency, and Observation Locations\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.265\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.265</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Diabetes Medications\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.58\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.58</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Blood Glucose Laboratory and Point of Care Tests\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.38\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.38</tt>\n    \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Metadata</th>\n\n</tr>\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Identifier</th>\n\n<td class=\"content-container\">org.hl7.fhir.r5.model.Identifier@3e6c40ba</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Version Number</th>\n\n<td class=\"content-container\">0.0.001</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Library Type</th>\n\n<td class=\"content-container\">[http://terminology.hl7.org/CodeSystem/library-type#logic-library]</td>\n</tr>\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Coverage\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-coverage\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: period, id, id.value, meta, status, status.value, type, policyHolder, subscriber, subscriberId, subscriberId.value, beneficiary, dependent, dependent.value, relationship, payor, class, order, order.value, network, network.value, subrogation, subrogation.value, contract\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Encounter\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: type, period, class, location, id, id.value, meta, identifier, status, status.value, statusHistory, classHistory, serviceType, priority, subject, length, reasonCode, reasonReference, diagnosis, account, hospitalization, partOf\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: type</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.58\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationAdministration\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationadministration\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: effective, id, id.value, meta, instantiates, partOf, status, status.value, statusReason, category, medication, subject, context, supportingInformation, performer, reasonCode, reasonReference, request, device, note, dosage\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: medication, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: medication</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.58\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: MedicationRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-medicationrequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: authoredOn, authoredOn.value, id, id.value, meta, status, status.value, statusReason, intent, intent.value, category, priority, priority.value, doNotPerform, doNotPerform.value, reported, medication, subject, encounter, requester, recorder, reasonCode, reasonReference, instantiatesCanonical, instantiatesUri, courseOfTherapyType, dosageInstruction\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, effective, issued, issued.value, id, id.value, extension, text, referenceRange, component, basedOn, partOf, category, status, status.value, subject, focus, encounter, performer, value, dataAbsentReason, interpretation, note, bodySite, method, specimen, device, hasMember, derivedFrom\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.38\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Condition\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-condition-problems-health-concerns\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: id, id.value, meta, clinicalStatus, verificationStatus, category, severity, code, bodySite, subject, encounter, encounter.reference, encounter.reference.value, onset, stage, evidence, note\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: ServiceRequest\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-servicerequest\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: authoredOn, authoredOn.value, id, id.value, meta, instantiatesCanonical, instantiatesUri, basedOn, replaces, requisition, status, status.value, intent, intent.value, category, priority, priority.value, doNotPerform, doNotPerform.value, code, orderDetail, quantity, subject, encounter, occurrence, asNeeded, requester, performerType, performer, locationCode, reasonCode, reasonReference, insurance, bodySite, note, patientInstruction, patientInstruction.value\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Patient\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-patient\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: id, id.value, meta, extension, identifier, active, active.value, name, telecom, gender, gender.value, birthDate, birthDate.value, deceased, address, maritalStatus, multipleBirth, photo, contact, communication, generalPractitioner, managingOrganization, link\n    <br/>\n   \n   \n  </td>\n</tr>\n\n\n\n  <tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Content</th>\n\n</tr>\n  \n    \n    <tr>\n      <th scope=\"row\" class=\"row-header\">CQL Content</th>\n      <td>\n        <pre style=\"border: none;\" class=\"content-container highlight language-cql\"><code class=\"language-cql\">library NHSNGlycemicControlHypoglycemiaInitialPopulation version '0.0.001'\r\n\r\nusing QICore version '6.0.0'\r\n\r\ninclude CQMCommon version '4.1.000' called CQMCommon\r\ninclude FHIRHelpers version '4.4.000' called FHIRHelpers\r\ninclude SupplementalDataElements version '5.1.000' called SDE\r\ninclude QICoreCommon version '4.0.000' called QICoreCommon\r\ninclude NHSNHelpers version '0.1.000' called NHSNHelpers\r\n\r\ncodesystem &quot;ActCode&quot;: 'http://terminology.hl7.org/CodeSystem/v3-ActCode'\r\ncodesystem &quot;HSLOC&quot;: 'https://www.cdc.gov/nhsn/cdaportal/terminology/codesystem/hsloc.html'\r\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\r\ncodesystem &quot;RxNorm&quot;: 'https://www.nlm.nih.gov/research/umls/rxnorm/index.html'\r\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct'\r\n\r\nvalueset &quot;Blood Glucose Laboratory and Point of Care Tests&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.38'\r\nvalueset &quot;Diabetes Medications&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1190.58'\r\nvalueset &quot;Encounter Inpatient&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.307'\r\nvalueset &quot;Inpatient, Emergency, and Observation Locations&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.265'\r\nvalueset &quot;NHSN Inpatient Encounter Class Codes&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1046.274'\r\n\r\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;default Interval[@2026-01-01T00:00:00.0, @2026-12-31T23:59:00.0 )\r\n\r\ncontext Patient\n\n// Initial Population\r\n\r\n\r\ndefine &quot;Initial Population&quot;:\r\n  ( &quot;Inpatient Encounters During Measurement Period&quot;\r\n    union &quot;Encounters with Patient Hospital Locations&quot; ) InpatientEncounters\r\n    with &quot;Antidiabetic Drugs Administered or Ordered&quot; ADD\r\n      such that Coalesce(start of ADD.effective.toInterval(), ADD.authoredOn) during InpatientEncounters.&quot;hospitalizationWithObservation&quot; ( )\r\n    where ( InpatientEncounters.status = 'finished'\r\n        or InpatientEncounters.status = 'in-progress'\r\n        or InpatientEncounters.status = 'triaged'\r\n        or InpatientEncounters.status = 'onleave'\r\n        or InpatientEncounters.status = 'entered-in-error'\r\n    )\r\n\r\ndefine &quot;Inpatient Encounters During Measurement Period&quot;:\r\n  [Encounter: &quot;Encounter Inpatient&quot;] InpatientEncounters\r\n    where InpatientEncounters.period ends during day of &quot;Measurement Period&quot;\r\n      and ( InpatientEncounters.class ~ QICoreCommon.&quot;inpatient non-acute&quot;\r\n          or InpatientEncounters.class ~ QICoreCommon.&quot;inpatient non-acute&quot;\r\n          or InpatientEncounters.class ~ QICoreCommon.&quot;short stay&quot;\r\n          or InpatientEncounters.class ~ QICoreCommon.&quot;inpatient acute&quot;\r\n          or InpatientEncounters.class ~ QICoreCommon.&quot;inpatient encounter&quot;\r\n      )\r\n\r\ndefine &quot;Encounters with Patient Hospital Locations&quot;:\r\n  &quot;Inpatient Encounters During Measurement Period&quot; InpatientEncounter\r\n    where exists ( InpatientEncounter.location HospitalLocation\r\n        where HospitalLocation.location.getLocation ( ).type in &quot;Inpatient, Emergency, and Observation Locations&quot;\r\n          and HospitalLocation.period during day of InpatientEncounter.period\r\n    )\r\n\r\ndefine &quot;Antidiabetic Drugs Administered or Ordered&quot;:\r\n  ( ( [MedicationAdministration: medication in &quot;Diabetes Medications&quot;] ADDMedAdmin\r\n        where ADDMedAdmin.status ~ 'completed'\r\n    )\r\n      union ( [MedicationRequest: medication in &quot;Diabetes Medications&quot;] ADDOrder\r\n          where ADDOrder.status ~ 'completed'\r\n      )\r\n  ) \n   \n\n//Supplemental Data Elements\r\n\r\n\r\ndefine &quot;SDE Blood Glucose Observation&quot;:\r\n  ( [&quot;LaboratoryResultObservation&quot;: &quot;Blood Glucose Laboratory and Point of Care Tests&quot;] GlucoseTest\r\n      where exists ( &quot;Initial Population&quot; InitialPopulation\r\n          where start of GlucoseTest.effective.toInterval ( ) during day of InitialPopulation.period\r\n            or GlucoseTest.issued during day of InitialPopulation.period\r\n      )\r\n      return { GlucoseTest.id, GlucoseTest.extension, GlucoseTest.text, GlucoseTest.referenceRange, GlucoseTest.component, GlucoseTest.basedOn, GlucoseTest.partOf, GlucoseTest.category, GlucoseTest.status, GlucoseTest.subject, GlucoseTest.focus, GlucoseTest.encounter, GlucoseTest.effective, GlucoseTest.issued, GlucoseTest.performer, GlucoseTest.value, GlucoseTest.dataAbsentReason, GlucoseTest.interpretation, GlucoseTest.note, GlucoseTest.bodySite, GlucoseTest.method, GlucoseTest.specimen, GlucoseTest.device, GlucoseTest.hasMember, GlucoseTest.derivedFrom }\r\n  )\r\n\r\ndefine &quot;SDE Chief Complaint&quot;:\r\n  &quot;Initial Population&quot; IP\r\n    where exists ( IP.diagnosis InitialPopulationDiagnosis\r\n        where InitialPopulationDiagnosis.use ~ QICoreCommon.&quot;CC&quot;\r\n    )\r\n    return { IP.id, IP.meta, IP.identifier, IP.status, IP.statusHistory, IP.class, IP.classHistory, IP.type, IP.serviceType, IP.priority, IP.subject, IP.period, IP.length, IP.reasonCode, IP.reasonReference, IP.diagnosis, IP.account, IP.hospitalization, IP.location, IP.partOf }\r\n\r\ndefine &quot;Conditions&quot;:\r\n  [&quot;ConditionProblemsHealthConcerns&quot;]\r\n    union [&quot;ConditionEncounterDiagnosis&quot;]\r\n\r\ndefine &quot;SDE Condition&quot;:\r\n  [&quot;ConditionProblemsHealthConcerns&quot;] Diagnosis\r\n    where exists ( &quot;Initial Population&quot; IP\r\n        where Diagnosis.prevalenceInterval ( ) overlaps day of IP.period\r\n    )\r\n    return { Diagnosis.id, Diagnosis.meta, Diagnosis.clinicalStatus, Diagnosis.verificationStatus, Diagnosis.category, Diagnosis.severity, Diagnosis.code, Diagnosis.bodySite, Diagnosis.subject, Diagnosis.encounter.reference.getId ( ), Diagnosis.onset, Diagnosis.stage, Diagnosis.evidence, Diagnosis.note }\r\n\r\ndefine &quot;SDE Coverage&quot;:\r\n  [Coverage] Coverages\r\n    where exists ( &quot;Initial Population&quot; IP\r\n        where Coverages.period starts before or on day of IP.period\r\n          and end of Coverages.period on or after day of end of IP.period\r\n    )\r\n    return { Coverages.id, Coverages.meta, Coverages.status, Coverages.type, Coverages.policyHolder, Coverages.subscriber, Coverages.subscriberId, Coverages.beneficiary, Coverages.dependent, Coverages.relationship, Coverages.period, Coverages.payor, Coverages.class, Coverages.order, Coverages.network, Coverages.subrogation, Coverages.contract }\r\n\r\ndefine &quot;Encounters&quot;:\r\n  [Encounter]\r\n\r\ndefine &quot;SDE Encounter Locations&quot;:\r\n  &quot;Initial Population&quot; IP\r\n    where exists ( IP.location InitialPopulationLocation\r\n        let types: ( InitialPopulationLocation.location ).getLocation ( ).type\r\n        where exists ( types type\r\n            where type in &quot;Inpatient, Emergency, and Observation Locations&quot;\r\n        )\r\n          and InitialPopulationLocation.period during IP.period\r\n    )\r\n    return { IP.id, IP.meta, IP.identifier, IP.status, IP.statusHistory, IP.class, IP.classHistory, IP.type, IP.serviceType, IP.priority, IP.subject, IP.period, IP.length, IP.reasonCode, IP.reasonReference, IP.diagnosis, IP.account, IP.hospitalization, IP.location, IP.partOf }\r\n\r\ndefine &quot;Get Locations from Initial Population&quot;:\r\n  flatten ( &quot;Initial Population&quot; IP\r\n      let locationElements: IP.location\r\n      return locationElements LE\r\n        let locationReference: LE.location\r\n        return ( locationReference.getLocation ( ) )\r\n  )\r\n\r\ndefine &quot;SDE Location&quot;:\r\n  &quot;Get Locations from Initial Population&quot; Locations\r\n    where exists &quot;Initial Population&quot;\r\n      and Locations is not null\r\n    return { Locations.id, Locations.meta, Locations.extension, Locations.status, Locations.operationalStatus, Locations.name, Locations.alias, Locations.description, Locations.mode, Locations.type, Locations.telecom, Locations.address, Locations.physicalType, Locations.position, Locations.managingOrganization, Locations.partOf, Locations.hoursOfOperation, Locations.availabilityExceptions, Locations.endpoint }\r\n\r\ndefine &quot;SDE Initial Population Encounters&quot;:\r\n  &quot;Initial Population&quot; IP\r\n    return { IP.id, IP.meta, IP.identifier, IP.status, IP.statusHistory, IP.class, IP.classHistory, IP.type, IP.serviceType, IP.priority, IP.subject, IP.period, IP.length, IP.reasonCode, IP.reasonReference, IP.diagnosis, IP.account, IP.hospitalization, IP.location, IP.partOf }\r\n\r\ndefine &quot;SDE Medication&quot;:\r\n  ( &quot;MedicationRequests&quot;\r\n    union &quot;MedicationAdministrations&quot; ) MedReqOrAdmin\r\n    let medication: GetMedication(MedReqOrAdmin.medication)\r\n    where medication is not null\r\n      and exists ( &quot;Initial Population&quot; IP\r\n          where Coalesce(MedReqOrAdmin.effective.toInterval(), MedReqOrAdmin.authoredOn.toInterval()) overlaps IP.&quot;hospitalizationWithObservation&quot; ( )\r\n      )\r\n    return { medication.id, medication.meta, medication.code, medication.status, medication.manufacturer, medication.form, medication.amount, medication.ingredient, medication.batch }\r\n\r\ndefine function &quot;GetMedication&quot;(reference Reference):\r\n  singleton from ( [Medication] Medication\r\n      where reference.references ( Medication )\r\n  )\r\n\r\ndefine &quot;MedicationAdministrations&quot;:\r\n  [MedicationAdministration]\r\n\r\ndefine &quot;SDE Medication Administration&quot;:\r\n  &quot;MedicationAdministrations&quot; MedAdministrations\r\n    where exists ( &quot;Initial Population&quot; InitialPopulation\r\n        where MedAdministrations.effective.toInterval ( ) overlaps InitialPopulation.&quot;hospitalizationWithObservation&quot; ( )\r\n    )\r\n    return { MedAdministrations.id, MedAdministrations.meta, MedAdministrations.instantiates, MedAdministrations.partOf, MedAdministrations.status, MedAdministrations.statusReason, MedAdministrations.category, MedAdministrations.medication, MedAdministrations.subject, MedAdministrations.context, MedAdministrations.supportingInformation, MedAdministrations.effective, MedAdministrations.performer, MedAdministrations.reasonCode, MedAdministrations.reasonReference, MedAdministrations.request, MedAdministrations.device, MedAdministrations.note, MedAdministrations.dosage }\r\n\r\ndefine &quot;MedicationRequests&quot;:\r\n  [MedicationRequest]\r\n\r\ndefine &quot;SDE Medication Request&quot;:\r\n  &quot;MedicationRequests&quot; MedRequests\r\n    where exists ( &quot;Initial Population&quot; InitialPopulation\r\n        where MedRequests.authoredOn during InitialPopulation.&quot;hospitalizationWithObservation&quot; ( )\r\n    )\r\n    return { MedRequests.id, MedRequests.meta, MedRequests.status, MedRequests.statusReason, MedRequests.intent, MedRequests.category, MedRequests.priority, MedRequests.doNotPerform, MedRequests.reported, MedRequests.medication, MedRequests.subject, MedRequests.encounter, MedRequests.authoredOn, MedRequests.requester, MedRequests.recorder, MedRequests.reasonCode, MedRequests.reasonReference, MedRequests.instantiatesCanonical, MedRequests.instantiatesUri, MedRequests.courseOfTherapyType, MedRequests.dosageInstruction }\r\n\r\ndefine &quot;SDE Minimal Patient&quot;:\r\n  [Patient] MinPt\r\n    where exists &quot;Initial Population&quot;\r\n    return { MinPt.id, MinPt.meta, MinPt.extension, MinPt.identifier, MinPt.active, MinPt.name, MinPt.telecom, MinPt.gender, MinPt.birthDate, MinPt.deceased, MinPt.address, MinPt.maritalStatus, MinPt.multipleBirth, MinPt.photo, MinPt.contact, MinPt.communication, MinPt.generalPractitioner, MinPt.managingOrganization, MinPt.link }\r\n\r\ndefine &quot;SDE Service Request&quot;:\r\n  [ServiceRequest] ServiceRequests\r\n    where exists ( &quot;Initial Population&quot; InitialPopulation\r\n        where ServiceRequests.authoredOn during InitialPopulation.period\r\n    )\r\n    return { ServiceRequests.id, ServiceRequests.meta, ServiceRequests.instantiatesCanonical, ServiceRequests.instantiatesUri, ServiceRequests.basedOn, ServiceRequests.replaces, ServiceRequests.requisition, ServiceRequests.status, ServiceRequests.intent, ServiceRequests.category, ServiceRequests.priority, ServiceRequests.doNotPerform, ServiceRequests.code, ServiceRequests.orderDetail, ServiceRequests.quantity, ServiceRequests.subject, ServiceRequests.encounter, ServiceRequests.occurrence, ServiceRequests.asNeeded, ServiceRequests.authoredOn, ServiceRequests.requester, ServiceRequests.performerType, ServiceRequests.performer, ServiceRequests.locationCode, ServiceRequests.reasonCode, ServiceRequests.reasonReference, ServiceRequests.insurance, ServiceRequests.bodySite, ServiceRequests.note, ServiceRequests.patientInstruction }\r\n\r\ndefine &quot;SDE Ethnicity&quot;:\r\n  SDE.&quot;SDE Ethnicity&quot;\r\n\r\ndefine &quot;SDE Payer&quot;:\r\n  SDE.&quot;SDE Payer&quot;\r\n\r\ndefine &quot;SDE Race&quot;:\r\n  SDE.&quot;SDE Race&quot;\r\n\r\ndefine &quot;SDE Sex&quot;:\r\n  SDE.&quot;SDE Sex&quot;</code></pre>\n      </td>\n    </tr>\n    \n    \n    \n  \n\n<tr>\n  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Generated using version 0.4.7 of the sample-content-ig Liquid templates</th>\n</tr>\n\n    </tbody>\n  </table>\n</div>"
  },
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.25.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "Overloads"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  } ],
  "url": "https://madie.cms.gov/Library/NHSNGlycemicControlHypoglycemiaInitialPopulation",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "NHSNGlycemicControlHypoglycemiaInitialPopulation"
  } ],
  "version": "0.0.001",
  "name": "NHSNGlycemicControlHypoglycemiaInitialPopulation",
  "title": "NHSNGlycemicControlHypoglycemiaInitialPopulation",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-06-30T22:38:18+00:00",
  "publisher": "Centers for Disease Control and Prevention (CDC)",
  "description": "NHSNGlycemicControlHypoglycemiaInitialPopulation",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBOSFNOR2x5Y2VtaWNDb250cm9sSHlwb2dseWNlbWlhSW5pdGlhbFBvcHVsYXRpb24gdmVyc2lvbiAnMC4wLjAwMScKCnVzaW5nIFFJQ29yZSB2ZXJzaW9uICc2LjAuMCcKCmluY2x1ZGUgQ1FNQ29tbW9uIHZlcnNpb24gJzQuMS4wMDAnIGNhbGxlZCBDUU1Db21tb24KaW5jbHVkZSBGSElSSGVscGVycyB2ZXJzaW9uICc0LjQuMDAwJyBjYWxsZWQgRkhJUkhlbHBlcnMKaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHMgdmVyc2lvbiAnNS4xLjAwMCcgY2FsbGVkIFNERQppbmNsdWRlIFFJQ29yZUNvbW1vbiB2ZXJzaW9uICc0LjAuMDAwJyBjYWxsZWQgUUlDb3JlQ29tbW9uCmluY2x1ZGUgTkhTTkhlbHBlcnMgdmVyc2lvbiAnMC4xLjAwMCcgY2FsbGVkIE5IU05IZWxwZXJzCgpjb2Rlc3lzdGVtICJBY3RDb2RlIjogJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjMtQWN0Q29kZScKY29kZXN5c3RlbSAiSFNMT0MiOiAnaHR0cHM6Ly93d3cuY2RjLmdvdi9uaHNuL2NkYXBvcnRhbC90ZXJtaW5vbG9neS9jb2Rlc3lzdGVtL2hzbG9jLmh0bWwnCmNvZGVzeXN0ZW0gIkxPSU5DIjogJ2h0dHA6Ly9sb2luYy5vcmcnCmNvZGVzeXN0ZW0gIlJ4Tm9ybSI6ICdodHRwczovL3d3dy5ubG0ubmloLmdvdi9yZXNlYXJjaC91bWxzL3J4bm9ybS9pbmRleC5odG1sJwpjb2Rlc3lzdGVtICJTTk9NRURDVCI6ICdodHRwOi8vc25vbWVkLmluZm8vc2N0JwoKdmFsdWVzZXQgIkJsb29kIEdsdWNvc2UgTGFib3JhdG9yeSBhbmQgUG9pbnQgb2YgQ2FyZSBUZXN0cyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExOTAuMzgnCnZhbHVlc2V0ICJEaWFiZXRlcyBNZWRpY2F0aW9ucyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExOTAuNTgnCnZhbHVlc2V0ICJFbmNvdW50ZXIgSW5wYXRpZW50IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzg4My4zLjY2Ni41LjMwNycKdmFsdWVzZXQgIklucGF0aWVudCwgRW1lcmdlbmN5LCBhbmQgT2JzZXJ2YXRpb24gTG9jYXRpb25zIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0Ni4yNjUnCnZhbHVlc2V0ICJOSFNOIElucGF0aWVudCBFbmNvdW50ZXIgQ2xhc3MgQ29kZXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ2LjI3NCcKCnBhcmFtZXRlciAiTWVhc3VyZW1lbnQgUGVyaW9kIiBJbnRlcnZhbDxEYXRlVGltZT4gZGVmYXVsdCBJbnRlcnZhbFtAMjAyNi0wMS0wMVQwMDowMDowMC4wWiwgQDIwMjYtMTItMzFUMjM6NTk6MDAuMFogKQoKY29udGV4dCBQYXRpZW50CgovLyBJbml0aWFsIFBvcHVsYXRpb24KCgpkZWZpbmUgIkluaXRpYWwgUG9wdWxhdGlvbiI6CiAgKCAiSW5wYXRpZW50IEVuY291bnRlcnMgRHVyaW5nIE1lYXN1cmVtZW50IFBlcmlvZCIKICAgIHVuaW9uICJFbmNvdW50ZXJzIHdpdGggUGF0aWVudCBIb3NwaXRhbCBMb2NhdGlvbnMiICkgSW5wYXRpZW50RW5jb3VudGVycwogICAgd2l0aCAiQW50aWRpYWJldGljIERydWdzIEFkbWluaXN0ZXJlZCBvciBPcmRlcmVkIiBBREQKICAgICAgc3VjaCB0aGF0IENvYWxlc2NlKHN0YXJ0IG9mIEFERC5lZmZlY3RpdmUudG9JbnRlcnZhbCgpLCBBREQuYXV0aG9yZWRPbikgZHVyaW5nIElucGF0aWVudEVuY291bnRlcnMuImhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbiIgKCApCiAgICB3aGVyZSAoIElucGF0aWVudEVuY291bnRlcnMuc3RhdHVzID0gJ2ZpbmlzaGVkJwogICAgICAgIG9yIElucGF0aWVudEVuY291bnRlcnMuc3RhdHVzID0gJ2luLXByb2dyZXNzJwogICAgICAgIG9yIElucGF0aWVudEVuY291bnRlcnMuc3RhdHVzID0gJ3RyaWFnZWQnCiAgICAgICAgb3IgSW5wYXRpZW50RW5jb3VudGVycy5zdGF0dXMgPSAnb25sZWF2ZScKICAgICAgICBvciBJbnBhdGllbnRFbmNvdW50ZXJzLnN0YXR1cyA9ICdlbnRlcmVkLWluLWVycm9yJwogICAgKQoKZGVmaW5lICJJbnBhdGllbnQgRW5jb3VudGVycyBEdXJpbmcgTWVhc3VyZW1lbnQgUGVyaW9kIjoKICBbRW5jb3VudGVyOiAiRW5jb3VudGVyIElucGF0aWVudCJdIElucGF0aWVudEVuY291bnRlcnMKICAgIHdoZXJlIElucGF0aWVudEVuY291bnRlcnMucGVyaW9kIGVuZHMgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIgogICAgICBhbmQgKCBJbnBhdGllbnRFbmNvdW50ZXJzLmNsYXNzIH4gUUlDb3JlQ29tbW9uLiJpbnBhdGllbnQgbm9uLWFjdXRlIgogICAgICAgICAgb3IgSW5wYXRpZW50RW5jb3VudGVycy5jbGFzcyB+IFFJQ29yZUNvbW1vbi4iaW5wYXRpZW50IG5vbi1hY3V0ZSIKICAgICAgICAgIG9yIElucGF0aWVudEVuY291bnRlcnMuY2xhc3MgfiBRSUNvcmVDb21tb24uInNob3J0IHN0YXkiCiAgICAgICAgICBvciBJbnBhdGllbnRFbmNvdW50ZXJzLmNsYXNzIH4gUUlDb3JlQ29tbW9uLiJpbnBhdGllbnQgYWN1dGUiCiAgICAgICAgICBvciBJbnBhdGllbnRFbmNvdW50ZXJzLmNsYXNzIH4gUUlDb3JlQ29tbW9uLiJpbnBhdGllbnQgZW5jb3VudGVyIgogICAgICApCgpkZWZpbmUgIkVuY291bnRlcnMgd2l0aCBQYXRpZW50IEhvc3BpdGFsIExvY2F0aW9ucyI6CiAgIklucGF0aWVudCBFbmNvdW50ZXJzIER1cmluZyBNZWFzdXJlbWVudCBQZXJpb2QiIElucGF0aWVudEVuY291bnRlcgogICAgd2hlcmUgZXhpc3RzICggSW5wYXRpZW50RW5jb3VudGVyLmxvY2F0aW9uIEhvc3BpdGFsTG9jYXRpb24KICAgICAgICB3aGVyZSBIb3NwaXRhbExvY2F0aW9uLmxvY2F0aW9uLmdldExvY2F0aW9uICggKS50eXBlIGluICJJbnBhdGllbnQsIEVtZXJnZW5jeSwgYW5kIE9ic2VydmF0aW9uIExvY2F0aW9ucyIKICAgICAgICAgIGFuZCBIb3NwaXRhbExvY2F0aW9uLnBlcmlvZCBkdXJpbmcgZGF5IG9mIElucGF0aWVudEVuY291bnRlci5wZXJpb2QKICAgICkKCmRlZmluZSAiQW50aWRpYWJldGljIERydWdzIEFkbWluaXN0ZXJlZCBvciBPcmRlcmVkIjoKICAoICggW01lZGljYXRpb25BZG1pbmlzdHJhdGlvbjogbWVkaWNhdGlvbiBpbiAiRGlhYmV0ZXMgTWVkaWNhdGlvbnMiXSBBRERNZWRBZG1pbgogICAgICAgIHdoZXJlIEFERE1lZEFkbWluLnN0YXR1cyB+ICdjb21wbGV0ZWQnCiAgICApCiAgICAgIHVuaW9uICggW01lZGljYXRpb25SZXF1ZXN0OiBtZWRpY2F0aW9uIGluICJEaWFiZXRlcyBNZWRpY2F0aW9ucyJdIEFERE9yZGVyCiAgICAgICAgICB3aGVyZSBBRERPcmRlci5zdGF0dXMgfiAnY29tcGxldGVkJwogICAgICApCiAgKSAKICAgCgovL1N1cHBsZW1lbnRhbCBEYXRhIEVsZW1lbnRzCgoKZGVmaW5lICJTREUgQmxvb2QgR2x1Y29zZSBPYnNlcnZhdGlvbiI6CiAgKCBbIkxhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiI6ICJCbG9vZCBHbHVjb3NlIExhYm9yYXRvcnkgYW5kIFBvaW50IG9mIENhcmUgVGVzdHMiXSBHbHVjb3NlVGVzdAogICAgICB3aGVyZSBleGlzdHMgKCAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJbml0aWFsUG9wdWxhdGlvbgogICAgICAgICAgd2hlcmUgc3RhcnQgb2YgR2x1Y29zZVRlc3QuZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIGR1cmluZyBkYXkgb2YgSW5pdGlhbFBvcHVsYXRpb24ucGVyaW9kCiAgICAgICAgICAgIG9yIEdsdWNvc2VUZXN0Lmlzc3VlZCBkdXJpbmcgZGF5IG9mIEluaXRpYWxQb3B1bGF0aW9uLnBlcmlvZAogICAgICApCiAgICAgIHJldHVybiB7IEdsdWNvc2VUZXN0LmlkLCBHbHVjb3NlVGVzdC5leHRlbnNpb24sIEdsdWNvc2VUZXN0LnRleHQsIEdsdWNvc2VUZXN0LnJlZmVyZW5jZVJhbmdlLCBHbHVjb3NlVGVzdC5jb21wb25lbnQsIEdsdWNvc2VUZXN0LmJhc2VkT24sIEdsdWNvc2VUZXN0LnBhcnRPZiwgR2x1Y29zZVRlc3QuY2F0ZWdvcnksIEdsdWNvc2VUZXN0LnN0YXR1cywgR2x1Y29zZVRlc3Quc3ViamVjdCwgR2x1Y29zZVRlc3QuZm9jdXMsIEdsdWNvc2VUZXN0LmVuY291bnRlciwgR2x1Y29zZVRlc3QuZWZmZWN0aXZlLCBHbHVjb3NlVGVzdC5pc3N1ZWQsIEdsdWNvc2VUZXN0LnBlcmZvcm1lciwgR2x1Y29zZVRlc3QudmFsdWUsIEdsdWNvc2VUZXN0LmRhdGFBYnNlbnRSZWFzb24sIEdsdWNvc2VUZXN0LmludGVycHJldGF0aW9uLCBHbHVjb3NlVGVzdC5ub3RlLCBHbHVjb3NlVGVzdC5ib2R5U2l0ZSwgR2x1Y29zZVRlc3QubWV0aG9kLCBHbHVjb3NlVGVzdC5zcGVjaW1lbiwgR2x1Y29zZVRlc3QuZGV2aWNlLCBHbHVjb3NlVGVzdC5oYXNNZW1iZXIsIEdsdWNvc2VUZXN0LmRlcml2ZWRGcm9tIH0KICApCgpkZWZpbmUgIlNERSBDaGllZiBDb21wbGFpbnQiOgogICJJbml0aWFsIFBvcHVsYXRpb24iIElQCiAgICB3aGVyZSBleGlzdHMgKCBJUC5kaWFnbm9zaXMgSW5pdGlhbFBvcHVsYXRpb25EaWFnbm9zaXMKICAgICAgICB3aGVyZSBJbml0aWFsUG9wdWxhdGlvbkRpYWdub3Npcy51c2UgfiBRSUNvcmVDb21tb24uIkNDIgogICAgKQogICAgcmV0dXJuIHsgSVAuaWQsIElQLm1ldGEsIElQLmlkZW50aWZpZXIsIElQLnN0YXR1cywgSVAuc3RhdHVzSGlzdG9yeSwgSVAuY2xhc3MsIElQLmNsYXNzSGlzdG9yeSwgSVAudHlwZSwgSVAuc2VydmljZVR5cGUsIElQLnByaW9yaXR5LCBJUC5zdWJqZWN0LCBJUC5wZXJpb2QsIElQLmxlbmd0aCwgSVAucmVhc29uQ29kZSwgSVAucmVhc29uUmVmZXJlbmNlLCBJUC5kaWFnbm9zaXMsIElQLmFjY291bnQsIElQLmhvc3BpdGFsaXphdGlvbiwgSVAubG9jYXRpb24sIElQLnBhcnRPZiB9CgpkZWZpbmUgIkNvbmRpdGlvbnMiOgogIFsiQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJucyJdCiAgICB1bmlvbiBbIkNvbmRpdGlvbkVuY291bnRlckRpYWdub3NpcyJdCgpkZWZpbmUgIlNERSBDb25kaXRpb24iOgogIFsiQ29uZGl0aW9uUHJvYmxlbXNIZWFsdGhDb25jZXJucyJdIERpYWdub3NpcwogICAgd2hlcmUgZXhpc3RzICggIkluaXRpYWwgUG9wdWxhdGlvbiIgSVAKICAgICAgICB3aGVyZSBEaWFnbm9zaXMucHJldmFsZW5jZUludGVydmFsICggKSBvdmVybGFwcyBkYXkgb2YgSVAucGVyaW9kCiAgICApCiAgICByZXR1cm4geyBEaWFnbm9zaXMuaWQsIERpYWdub3Npcy5tZXRhLCBEaWFnbm9zaXMuY2xpbmljYWxTdGF0dXMsIERpYWdub3Npcy52ZXJpZmljYXRpb25TdGF0dXMsIERpYWdub3Npcy5jYXRlZ29yeSwgRGlhZ25vc2lzLnNldmVyaXR5LCBEaWFnbm9zaXMuY29kZSwgRGlhZ25vc2lzLmJvZHlTaXRlLCBEaWFnbm9zaXMuc3ViamVjdCwgRGlhZ25vc2lzLmVuY291bnRlci5yZWZlcmVuY2UuZ2V0SWQgKCApLCBEaWFnbm9zaXMub25zZXQsIERpYWdub3Npcy5zdGFnZSwgRGlhZ25vc2lzLmV2aWRlbmNlLCBEaWFnbm9zaXMubm90ZSB9CgpkZWZpbmUgIlNERSBDb3ZlcmFnZSI6CiAgW0NvdmVyYWdlXSBDb3ZlcmFnZXMKICAgIHdoZXJlIGV4aXN0cyAoICJJbml0aWFsIFBvcHVsYXRpb24iIElQCiAgICAgICAgd2hlcmUgQ292ZXJhZ2VzLnBlcmlvZCBzdGFydHMgYmVmb3JlIG9yIG9uIGRheSBvZiBJUC5wZXJpb2QKICAgICAgICAgIGFuZCBlbmQgb2YgQ292ZXJhZ2VzLnBlcmlvZCBvbiBvciBhZnRlciBkYXkgb2YgZW5kIG9mIElQLnBlcmlvZAogICAgKQogICAgcmV0dXJuIHsgQ292ZXJhZ2VzLmlkLCBDb3ZlcmFnZXMubWV0YSwgQ292ZXJhZ2VzLnN0YXR1cywgQ292ZXJhZ2VzLnR5cGUsIENvdmVyYWdlcy5wb2xpY3lIb2xkZXIsIENvdmVyYWdlcy5zdWJzY3JpYmVyLCBDb3ZlcmFnZXMuc3Vic2NyaWJlcklkLCBDb3ZlcmFnZXMuYmVuZWZpY2lhcnksIENvdmVyYWdlcy5kZXBlbmRlbnQsIENvdmVyYWdlcy5yZWxhdGlvbnNoaXAsIENvdmVyYWdlcy5wZXJpb2QsIENvdmVyYWdlcy5wYXlvciwgQ292ZXJhZ2VzLmNsYXNzLCBDb3ZlcmFnZXMub3JkZXIsIENvdmVyYWdlcy5uZXR3b3JrLCBDb3ZlcmFnZXMuc3Vicm9nYXRpb24sIENvdmVyYWdlcy5jb250cmFjdCB9CgpkZWZpbmUgIkVuY291bnRlcnMiOgogIFtFbmNvdW50ZXJdCgpkZWZpbmUgIlNERSBFbmNvdW50ZXIgTG9jYXRpb25zIjoKICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJUAogICAgd2hlcmUgZXhpc3RzICggSVAubG9jYXRpb24gSW5pdGlhbFBvcHVsYXRpb25Mb2NhdGlvbgogICAgICAgIGxldCB0eXBlczogKCBJbml0aWFsUG9wdWxhdGlvbkxvY2F0aW9uLmxvY2F0aW9uICkuZ2V0TG9jYXRpb24gKCApLnR5cGUKICAgICAgICB3aGVyZSBleGlzdHMgKCB0eXBlcyB0eXBlCiAgICAgICAgICAgIHdoZXJlIHR5cGUgaW4gIklucGF0aWVudCwgRW1lcmdlbmN5LCBhbmQgT2JzZXJ2YXRpb24gTG9jYXRpb25zIgogICAgICAgICkKICAgICAgICAgIGFuZCBJbml0aWFsUG9wdWxhdGlvbkxvY2F0aW9uLnBlcmlvZCBkdXJpbmcgSVAucGVyaW9kCiAgICApCiAgICByZXR1cm4geyBJUC5pZCwgSVAubWV0YSwgSVAuaWRlbnRpZmllciwgSVAuc3RhdHVzLCBJUC5zdGF0dXNIaXN0b3J5LCBJUC5jbGFzcywgSVAuY2xhc3NIaXN0b3J5LCBJUC50eXBlLCBJUC5zZXJ2aWNlVHlwZSwgSVAucHJpb3JpdHksIElQLnN1YmplY3QsIElQLnBlcmlvZCwgSVAubGVuZ3RoLCBJUC5yZWFzb25Db2RlLCBJUC5yZWFzb25SZWZlcmVuY2UsIElQLmRpYWdub3NpcywgSVAuYWNjb3VudCwgSVAuaG9zcGl0YWxpemF0aW9uLCBJUC5sb2NhdGlvbiwgSVAucGFydE9mIH0KCmRlZmluZSAiR2V0IExvY2F0aW9ucyBmcm9tIEluaXRpYWwgUG9wdWxhdGlvbiI6CiAgZmxhdHRlbiAoICJJbml0aWFsIFBvcHVsYXRpb24iIElQCiAgICAgIGxldCBsb2NhdGlvbkVsZW1lbnRzOiBJUC5sb2NhdGlvbgogICAgICByZXR1cm4gbG9jYXRpb25FbGVtZW50cyBMRQogICAgICAgIGxldCBsb2NhdGlvblJlZmVyZW5jZTogTEUubG9jYXRpb24KICAgICAgICByZXR1cm4gKCBsb2NhdGlvblJlZmVyZW5jZS5nZXRMb2NhdGlvbiAoICkgKQogICkKCmRlZmluZSAiU0RFIExvY2F0aW9uIjoKICAiR2V0IExvY2F0aW9ucyBmcm9tIEluaXRpYWwgUG9wdWxhdGlvbiIgTG9jYXRpb25zCiAgICB3aGVyZSBleGlzdHMgIkluaXRpYWwgUG9wdWxhdGlvbiIKICAgICAgYW5kIExvY2F0aW9ucyBpcyBub3QgbnVsbAogICAgcmV0dXJuIHsgTG9jYXRpb25zLmlkLCBMb2NhdGlvbnMubWV0YSwgTG9jYXRpb25zLmV4dGVuc2lvbiwgTG9jYXRpb25zLnN0YXR1cywgTG9jYXRpb25zLm9wZXJhdGlvbmFsU3RhdHVzLCBMb2NhdGlvbnMubmFtZSwgTG9jYXRpb25zLmFsaWFzLCBMb2NhdGlvbnMuZGVzY3JpcHRpb24sIExvY2F0aW9ucy5tb2RlLCBMb2NhdGlvbnMudHlwZSwgTG9jYXRpb25zLnRlbGVjb20sIExvY2F0aW9ucy5hZGRyZXNzLCBMb2NhdGlvbnMucGh5c2ljYWxUeXBlLCBMb2NhdGlvbnMucG9zaXRpb24sIExvY2F0aW9ucy5tYW5hZ2luZ09yZ2FuaXphdGlvbiwgTG9jYXRpb25zLnBhcnRPZiwgTG9jYXRpb25zLmhvdXJzT2ZPcGVyYXRpb24sIExvY2F0aW9ucy5hdmFpbGFiaWxpdHlFeGNlcHRpb25zLCBMb2NhdGlvbnMuZW5kcG9pbnQgfQoKZGVmaW5lICJTREUgSW5pdGlhbCBQb3B1bGF0aW9uIEVuY291bnRlcnMiOgogICJJbml0aWFsIFBvcHVsYXRpb24iIElQCiAgICByZXR1cm4geyBJUC5pZCwgSVAubWV0YSwgSVAuaWRlbnRpZmllciwgSVAuc3RhdHVzLCBJUC5zdGF0dXNIaXN0b3J5LCBJUC5jbGFzcywgSVAuY2xhc3NIaXN0b3J5LCBJUC50eXBlLCBJUC5zZXJ2aWNlVHlwZSwgSVAucHJpb3JpdHksIElQLnN1YmplY3QsIElQLnBlcmlvZCwgSVAubGVuZ3RoLCBJUC5yZWFzb25Db2RlLCBJUC5yZWFzb25SZWZlcmVuY2UsIElQLmRpYWdub3NpcywgSVAuYWNjb3VudCwgSVAuaG9zcGl0YWxpemF0aW9uLCBJUC5sb2NhdGlvbiwgSVAucGFydE9mIH0KCmRlZmluZSAiU0RFIE1lZGljYXRpb24iOgogICggIk1lZGljYXRpb25SZXF1ZXN0cyIKICAgIHVuaW9uICJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25zIiApIE1lZFJlcU9yQWRtaW4KICAgIGxldCBtZWRpY2F0aW9uOiBHZXRNZWRpY2F0aW9uKE1lZFJlcU9yQWRtaW4ubWVkaWNhdGlvbikKICAgIHdoZXJlIG1lZGljYXRpb24gaXMgbm90IG51bGwKICAgICAgYW5kIGV4aXN0cyAoICJJbml0aWFsIFBvcHVsYXRpb24iIElQCiAgICAgICAgICB3aGVyZSBDb2FsZXNjZShNZWRSZXFPckFkbWluLmVmZmVjdGl2ZS50b0ludGVydmFsKCksIE1lZFJlcU9yQWRtaW4uYXV0aG9yZWRPbi50b0ludGVydmFsKCkpIG92ZXJsYXBzIElQLiJob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24iICggKQogICAgICApCiAgICByZXR1cm4geyBtZWRpY2F0aW9uLmlkLCBtZWRpY2F0aW9uLm1ldGEsIG1lZGljYXRpb24uY29kZSwgbWVkaWNhdGlvbi5zdGF0dXMsIG1lZGljYXRpb24ubWFudWZhY3R1cmVyLCBtZWRpY2F0aW9uLmZvcm0sIG1lZGljYXRpb24uYW1vdW50LCBtZWRpY2F0aW9uLmluZ3JlZGllbnQsIG1lZGljYXRpb24uYmF0Y2ggfQoKZGVmaW5lIGZ1bmN0aW9uICJHZXRNZWRpY2F0aW9uIihyZWZlcmVuY2UgUmVmZXJlbmNlKToKICBzaW5nbGV0b24gZnJvbSAoIFtNZWRpY2F0aW9uXSBNZWRpY2F0aW9uCiAgICAgIHdoZXJlIHJlZmVyZW5jZS5yZWZlcmVuY2VzICggTWVkaWNhdGlvbiApCiAgKQoKZGVmaW5lICJNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb25zIjoKICBbTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uXQoKZGVmaW5lICJTREUgTWVkaWNhdGlvbiBBZG1pbmlzdHJhdGlvbiI6CiAgIk1lZGljYXRpb25BZG1pbmlzdHJhdGlvbnMiIE1lZEFkbWluaXN0cmF0aW9ucwogICAgd2hlcmUgZXhpc3RzICggIkluaXRpYWwgUG9wdWxhdGlvbiIgSW5pdGlhbFBvcHVsYXRpb24KICAgICAgICB3aGVyZSBNZWRBZG1pbmlzdHJhdGlvbnMuZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIG92ZXJsYXBzIEluaXRpYWxQb3B1bGF0aW9uLiJob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24iICggKQogICAgKQogICAgcmV0dXJuIHsgTWVkQWRtaW5pc3RyYXRpb25zLmlkLCBNZWRBZG1pbmlzdHJhdGlvbnMubWV0YSwgTWVkQWRtaW5pc3RyYXRpb25zLmluc3RhbnRpYXRlcywgTWVkQWRtaW5pc3RyYXRpb25zLnBhcnRPZiwgTWVkQWRtaW5pc3RyYXRpb25zLnN0YXR1cywgTWVkQWRtaW5pc3RyYXRpb25zLnN0YXR1c1JlYXNvbiwgTWVkQWRtaW5pc3RyYXRpb25zLmNhdGVnb3J5LCBNZWRBZG1pbmlzdHJhdGlvbnMubWVkaWNhdGlvbiwgTWVkQWRtaW5pc3RyYXRpb25zLnN1YmplY3QsIE1lZEFkbWluaXN0cmF0aW9ucy5jb250ZXh0LCBNZWRBZG1pbmlzdHJhdGlvbnMuc3VwcG9ydGluZ0luZm9ybWF0aW9uLCBNZWRBZG1pbmlzdHJhdGlvbnMuZWZmZWN0aXZlLCBNZWRBZG1pbmlzdHJhdGlvbnMucGVyZm9ybWVyLCBNZWRBZG1pbmlzdHJhdGlvbnMucmVhc29uQ29kZSwgTWVkQWRtaW5pc3RyYXRpb25zLnJlYXNvblJlZmVyZW5jZSwgTWVkQWRtaW5pc3RyYXRpb25zLnJlcXVlc3QsIE1lZEFkbWluaXN0cmF0aW9ucy5kZXZpY2UsIE1lZEFkbWluaXN0cmF0aW9ucy5ub3RlLCBNZWRBZG1pbmlzdHJhdGlvbnMuZG9zYWdlIH0KCmRlZmluZSAiTWVkaWNhdGlvblJlcXVlc3RzIjoKICBbTWVkaWNhdGlvblJlcXVlc3RdCgpkZWZpbmUgIlNERSBNZWRpY2F0aW9uIFJlcXVlc3QiOgogICJNZWRpY2F0aW9uUmVxdWVzdHMiIE1lZFJlcXVlc3RzCiAgICB3aGVyZSBleGlzdHMgKCAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJbml0aWFsUG9wdWxhdGlvbgogICAgICAgIHdoZXJlIE1lZFJlcXVlc3RzLmF1dGhvcmVkT24gZHVyaW5nIEluaXRpYWxQb3B1bGF0aW9uLiJob3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24iICggKQogICAgKQogICAgcmV0dXJuIHsgTWVkUmVxdWVzdHMuaWQsIE1lZFJlcXVlc3RzLm1ldGEsIE1lZFJlcXVlc3RzLnN0YXR1cywgTWVkUmVxdWVzdHMuc3RhdHVzUmVhc29uLCBNZWRSZXF1ZXN0cy5pbnRlbnQsIE1lZFJlcXVlc3RzLmNhdGVnb3J5LCBNZWRSZXF1ZXN0cy5wcmlvcml0eSwgTWVkUmVxdWVzdHMuZG9Ob3RQZXJmb3JtLCBNZWRSZXF1ZXN0cy5yZXBvcnRlZCwgTWVkUmVxdWVzdHMubWVkaWNhdGlvbiwgTWVkUmVxdWVzdHMuc3ViamVjdCwgTWVkUmVxdWVzdHMuZW5jb3VudGVyLCBNZWRSZXF1ZXN0cy5hdXRob3JlZE9uLCBNZWRSZXF1ZXN0cy5yZXF1ZXN0ZXIsIE1lZFJlcXVlc3RzLnJlY29yZGVyLCBNZWRSZXF1ZXN0cy5yZWFzb25Db2RlLCBNZWRSZXF1ZXN0cy5yZWFzb25SZWZlcmVuY2UsIE1lZFJlcXVlc3RzLmluc3RhbnRpYXRlc0Nhbm9uaWNhbCwgTWVkUmVxdWVzdHMuaW5zdGFudGlhdGVzVXJpLCBNZWRSZXF1ZXN0cy5jb3Vyc2VPZlRoZXJhcHlUeXBlLCBNZWRSZXF1ZXN0cy5kb3NhZ2VJbnN0cnVjdGlvbiB9CgpkZWZpbmUgIlNERSBNaW5pbWFsIFBhdGllbnQiOgogIFtQYXRpZW50XSBNaW5QdAogICAgd2hlcmUgZXhpc3RzICJJbml0aWFsIFBvcHVsYXRpb24iCiAgICByZXR1cm4geyBNaW5QdC5pZCwgTWluUHQubWV0YSwgTWluUHQuZXh0ZW5zaW9uLCBNaW5QdC5pZGVudGlmaWVyLCBNaW5QdC5hY3RpdmUsIE1pblB0Lm5hbWUsIE1pblB0LnRlbGVjb20sIE1pblB0LmdlbmRlciwgTWluUHQuYmlydGhEYXRlLCBNaW5QdC5kZWNlYXNlZCwgTWluUHQuYWRkcmVzcywgTWluUHQubWFyaXRhbFN0YXR1cywgTWluUHQubXVsdGlwbGVCaXJ0aCwgTWluUHQucGhvdG8sIE1pblB0LmNvbnRhY3QsIE1pblB0LmNvbW11bmljYXRpb24sIE1pblB0LmdlbmVyYWxQcmFjdGl0aW9uZXIsIE1pblB0Lm1hbmFnaW5nT3JnYW5pemF0aW9uLCBNaW5QdC5saW5rIH0KCmRlZmluZSAiU0RFIFNlcnZpY2UgUmVxdWVzdCI6CiAgW1NlcnZpY2VSZXF1ZXN0XSBTZXJ2aWNlUmVxdWVzdHMKICAgIHdoZXJlIGV4aXN0cyAoICJJbml0aWFsIFBvcHVsYXRpb24iIEluaXRpYWxQb3B1bGF0aW9uCiAgICAgICAgd2hlcmUgU2VydmljZVJlcXVlc3RzLmF1dGhvcmVkT24gZHVyaW5nIEluaXRpYWxQb3B1bGF0aW9uLnBlcmlvZAogICAgKQogICAgcmV0dXJuIHsgU2VydmljZVJlcXVlc3RzLmlkLCBTZXJ2aWNlUmVxdWVzdHMubWV0YSwgU2VydmljZVJlcXVlc3RzLmluc3RhbnRpYXRlc0Nhbm9uaWNhbCwgU2VydmljZVJlcXVlc3RzLmluc3RhbnRpYXRlc1VyaSwgU2VydmljZVJlcXVlc3RzLmJhc2VkT24sIFNlcnZpY2VSZXF1ZXN0cy5yZXBsYWNlcywgU2VydmljZVJlcXVlc3RzLnJlcXVpc2l0aW9uLCBTZXJ2aWNlUmVxdWVzdHMuc3RhdHVzLCBTZXJ2aWNlUmVxdWVzdHMuaW50ZW50LCBTZXJ2aWNlUmVxdWVzdHMuY2F0ZWdvcnksIFNlcnZpY2VSZXF1ZXN0cy5wcmlvcml0eSwgU2VydmljZVJlcXVlc3RzLmRvTm90UGVyZm9ybSwgU2VydmljZVJlcXVlc3RzLmNvZGUsIFNlcnZpY2VSZXF1ZXN0cy5vcmRlckRldGFpbCwgU2VydmljZVJlcXVlc3RzLnF1YW50aXR5LCBTZXJ2aWNlUmVxdWVzdHMuc3ViamVjdCwgU2VydmljZVJlcXVlc3RzLmVuY291bnRlciwgU2VydmljZVJlcXVlc3RzLm9jY3VycmVuY2UsIFNlcnZpY2VSZXF1ZXN0cy5hc05lZWRlZCwgU2VydmljZVJlcXVlc3RzLmF1dGhvcmVkT24sIFNlcnZpY2VSZXF1ZXN0cy5yZXF1ZXN0ZXIsIFNlcnZpY2VSZXF1ZXN0cy5wZXJmb3JtZXJUeXBlLCBTZXJ2aWNlUmVxdWVzdHMucGVyZm9ybWVyLCBTZXJ2aWNlUmVxdWVzdHMubG9jYXRpb25Db2RlLCBTZXJ2aWNlUmVxdWVzdHMucmVhc29uQ29kZSwgU2VydmljZVJlcXVlc3RzLnJlYXNvblJlZmVyZW5jZSwgU2VydmljZVJlcXVlc3RzLmluc3VyYW5jZSwgU2VydmljZVJlcXVlc3RzLmJvZHlTaXRlLCBTZXJ2aWNlUmVxdWVzdHMubm90ZSwgU2VydmljZVJlcXVlc3RzLnBhdGllbnRJbnN0cnVjdGlvbiB9CgpkZWZpbmUgIlNERSBFdGhuaWNpdHkiOgogIFNERS4iU0RFIEV0aG5pY2l0eSIKCmRlZmluZSAiU0RFIFBheWVyIjoKICBTREUuIlNERSBQYXllciIKCmRlZmluZSAiU0RFIFJhY2UiOgogIFNERS4iU0RFIFJhY2UiCgpkZWZpbmUgIlNERSBTZXgiOgogIFNERS4iU0RFIFNleCI="
  } ]
}