{
  "resourceType": "Library",
  "id": "CMS1218FHIRHHRF",
  "meta": {
    "profile": [ "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-shareablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-computablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-publishablelibrary", "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-executablelibrary", "http://hl7.org/fhir/uv/cql/StructureDefinition/cql-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-json-library", "http://hl7.org/fhir/uv/cql/StructureDefinition/elm-xml-library" ]
  },
  "language": "en",
  "text": {
    "status": "extensions",
    "div": "<div xmlns=\"http://www.w3.org/1999/xhtml\" class=\"col-12\">\n  <table class=\"narrative-table\">\n    <tbody>\n<tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Knowledge Artifact Metadata</th>\n\n</tr>\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Name (machine-readable)</th>\n\n<td class=\"content-container\">CMS1218FHIRHHRF</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Title (human-readable)</th>\n\n<td class=\"content-container\">CMS1218FHIRHHRF</td>\n</tr>\n\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Status</th>\n\n<td class=\"content-container\">active</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Experimental</th>\n\n<td class=\"content-container\">false</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Description</th>\n\n<td class=\"content-container\">CMS1218FHIRHHRF</td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Library Steward</th>\n\n<td class=\"content-container\">Centers for Medicare &amp; Medicaid Services (CMS)</td>\n</tr>\n\n\n\n\n\n\n\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library FHIRHelpers\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/FHIRHelpers|4.4.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/FHIRHelpers|4.4.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library QICoreCommon\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/QICoreCommon|4.0.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/QICoreCommon|4.0.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library CQMCommon\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/CQMCommon|4.1.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/CQMCommon|4.1.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Library SDE\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: https://madie.cms.gov/Library/SupplementalDataElements|5.1.000\n    <br/>\n    <em>Canonical URL</em>: <tt>https://madie.cms.gov/Library/SupplementalDataElements|5.1.000</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Code system SNOMEDCT\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://snomed.info/sct\n    <br/>\n    <em>Canonical URL</em>: <tt>http://snomed.info/sct</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Code system LOINC\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://loinc.org\n    <br/>\n    <em>Canonical URL</em>: <tt>http://loinc.org</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Code system LocationRoles\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://terminology.hl7.org/CodeSystem/v3-RoleCode\n    <br/>\n    <em>Canonical URL</em>: <tt>http://terminology.hl7.org/CodeSystem/v3-RoleCode</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Elective Inpatient Encounter\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.85\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.85</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Emergency Department Visit\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Obstetrical Or Pregnancy Related Conditions\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set General And Neuraxial Anesthesia\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.208\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.208</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Albumin Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.221\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.221</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Arterial Blood pH\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.96\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.96</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Carbon Dioxide Partial Pressure In Arterial Blood\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.95\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.95</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Hematocrit Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.114\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.114</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Hemoglobin Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.219\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.219</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Sodium Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.119\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.119</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Creatinine Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.2363\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.2363</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set White Blood Cells Count Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.129\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.129</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set ASA Physical Status Class\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.217\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.217</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Bicarbonate Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.139\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.139</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Bilirubin Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.223\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.223</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Oxygen Partial Pressure In Arterial Blood\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.94\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.94</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Leukocyte Count Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.222\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.222</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Intubation\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.179\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.179</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Anesthesia Requiring Monitored Care\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.255\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.255</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Mechanical Ventilation\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.107\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.107</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Non Invasive Oxygen Therapy By Nasal Cannula Or Mask\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Non Invasive Oxygen Therapy\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.213\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.213</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Blood Urea Nitrogen Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.218\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.218</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Degenerative Neurological Disorder\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.241\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.241</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Head, Neck, And Thoracic Surgeries With High Risk Airway Compromise\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.251\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.251</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Neuromuscular Disorder\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.239\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.239</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Acute Respiratory Failure\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.88\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.88</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Present On Admission Or Clinically Undetermined\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.197\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.197</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Tracheostomy Diagnoses\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.89\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.89</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Tracheostomy Procedures\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.181\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.181</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Aspartate transaminase Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.224\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.224</tt>\n    \n  </td>\n</tr>\n\n<tr>\n  \n  \n  \n  \n  \n<th scope=\"row\" class=\"row-header\">Dependency</th>\n\n  \n  <td class=\"content-container\">\n    \n    <em>Description</em>: Value set Platelet Count Lab Test\n    \n    <br/>\n    \n    \n    \n    \n    \n    \n    <em>Resource</em>: http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.127\n    <br/>\n    <em>Canonical URL</em>: <tt>http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.127</tt>\n    \n  </td>\n</tr>\n\n\n\n\n\n\n\n\n\n\n<tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Metadata</th>\n\n</tr>\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Identifier</th>\n\n<td class=\"content-container\">org.hl7.fhir.r5.model.Identifier@2dd90a5b</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Version Number</th>\n\n<td class=\"content-container\">0.2.000</td>\n</tr>\n\n\n<tr>\n\n<th scope=\"row\" class=\"row-header\">Library Type</th>\n\n<td class=\"content-container\">[http://terminology.hl7.org/CodeSystem/library-type#logic-library]</td>\n</tr>\n\n\n\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Encounter\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-encounter\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: type, status, status.value, period, id, id.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: type</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-screening-assessment\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, status, status.value, value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n  \n    <span class=\"tab-one\"><em>Code(s)</em>: \n    \n      \n      http://loinc.org#97816-3: 'American society of anesthesiologists morbidity state'\n      \n    \n    </span>\n    <br/>\n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, id, id.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.255\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, id, id.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.208\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, id, id.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Procedure\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-procedure\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: status, status.value, id, id.value, code, performed\n    <br/>\n   \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/core/StructureDefinition/us-core-bmi\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code, effective, value, status, status.value\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n  \n    <span class=\"tab-one\"><em>Code(s)</em>: \n    \n      \n      http://loinc.org#39156-5: 'Body mass index (BMI) [Ratio]'\n      \n    \n    </span>\n    <br/>\n  \n  \n   \n  </td>\n</tr>\n\n<tr>\n  <th scope=\"row\" class=\"row-header\">Data Requirement</th>\n  <td class=\"content-container\">\n    <em>Type</em>: Observation\n    <br/>\n  \n    <em>Profile(s)</em>: \n  \n    http://hl7.org/fhir/us/qicore/StructureDefinition/qicore-observation-lab\n    <br/>        \n  \n   \n   \n    <em>Must Support Elements</em>: code\n    <br/>\n   \n  \n    <em>Code Filter(s)</em>: \n    <br/>\n  \n  \n    <span class=\"tab-one\"><em>Path</em>: code</span>\n    <br/>\n  \n  \n  \n    <span class=\"tab-one\"><em>ValueSet</em>:</span> http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.213\n    <br/> \n  \n  \n  \n   \n  </td>\n</tr>\n\n\n\n  <tr>\n\n<th colspan=\"2\" scope=\"row\" class=\"row-header\">Library Content</th>\n\n</tr>\n  \n    \n    <tr>\n      <th scope=\"row\" class=\"row-header\">CQL Content</th>\n      <td>\n        <pre style=\"border: none;\" class=\"content-container highlight language-cql\"><code class=\"language-cql\">library CMS1218FHIRHHRF version '0.2.000'\r\n\r\nusing QICore version '6.0.0'\r\n\r\ninclude FHIRHelpers version '4.4.000' called FHIRHelpers\r\ninclude SupplementalDataElements version '5.1.000' called SDE\r\ninclude CQMCommon version '4.1.000' called CQMCommon\r\ninclude QICoreCommon version '4.0.000' called QICoreCommon\r\n\r\ncodesystem &quot;LOINC&quot;: 'http://loinc.org'\r\ncodesystem &quot;SNOMEDCT&quot;: 'http://snomed.info/sct'\r\ncodesystem &quot;LocationRoles&quot;: 'http://terminology.hl7.org/CodeSystem/v3-RoleCode'\r\n\r\nvalueset &quot;Acute Respiratory Failure&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.88'\r\nvalueset &quot;Albumin Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.221'\r\nvalueset &quot;Anesthesia Requiring Monitored Care&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.255'\r\nvalueset &quot;Arterial Blood pH&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.96'\r\nvalueset &quot;ASA Physical Status Class&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.217'\r\nvalueset &quot;Aspartate transaminase Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.224'\r\nvalueset &quot;Bicarbonate Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.139'\r\nvalueset &quot;Bilirubin Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.223'\r\nvalueset &quot;Blood Urea Nitrogen Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.218'\r\nvalueset &quot;Carbon Dioxide Partial Pressure In Arterial Blood&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.95'\r\nvalueset &quot;Creatinine Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.666.5.2363'\r\nvalueset &quot;Degenerative Neurological Disorder&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.241'\r\nvalueset &quot;Elective Inpatient Encounter&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.85'\r\nvalueset &quot;Emergency Department Visit&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.292'\r\nvalueset &quot;General And Neuraxial Anesthesia&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.208'\r\nvalueset &quot;Head And Neck Surgeries With High Risk Airway Compromise&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.183'\r\nvalueset &quot;Head, Neck, And Thoracic Surgeries With High Risk Airway Compromise&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.251'\r\nvalueset &quot;Hematocrit Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.114'\r\nvalueset &quot;Hemoglobin Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.219'\r\nvalueset &quot;Intubation&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.179'\r\nvalueset &quot;Leukocyte Count Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.222'\r\nvalueset &quot;Mechanical Ventilation&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.107'\r\nvalueset &quot;Neuromuscular Disorder&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.239'\r\nvalueset &quot;Non Invasive Oxygen Therapy&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.213'\r\nvalueset &quot;Non Invasive Oxygen Therapy By Nasal Cannula Or Mask&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.209'\r\nvalueset &quot;Obstetrical Or Pregnancy Related Conditions&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113883.3.117.1.7.1.263'\r\nvalueset &quot;Oxygen Partial Pressure In Arterial Blood&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.94'\r\nvalueset &quot;Platelet Count Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.127'\r\nvalueset &quot;Present On Admission Or Clinically Undetermined&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1147.197'\r\nvalueset &quot;Procedural Hospital Locations&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.216'\r\nvalueset &quot;Smoking Status&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.220'\r\nvalueset &quot;Sodium Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.119'\r\nvalueset &quot;Tracheostomy Diagnoses&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.89'\r\nvalueset &quot;Tracheostomy Procedures&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1248.181'\r\nvalueset &quot;White Blood Cells Count Lab Test&quot;: 'http://cts.nlm.nih.gov/fhir/ValueSet/2.16.840.1.113762.1.4.1045.129'\r\n\r\ncode &quot;American society of anesthesiologists morbidity state&quot;: '97816-3' from &quot;LOINC&quot; display 'American society of anesthesiologists morbidity state'\r\ncode &quot;Body mass index (BMI) [Ratio]&quot;: '39156-5' from &quot;LOINC&quot; display 'Body mass index (BMI) [Ratio]'\r\ncode &quot;Body temperature&quot;: '8310-5' from &quot;LOINC&quot; display 'Body temperature'\r\ncode &quot;Elective (qualifier value)&quot;: '103390000' from &quot;SNOMEDCT&quot; display 'Elective (qualifier value)'\r\ncode &quot;Heart rate&quot;: '8867-4' from &quot;LOINC&quot; display 'Heart rate'\r\ncode &quot;Removal of endotracheal tube (procedure)&quot;: '271280005' from &quot;SNOMEDCT&quot; display 'Removal of endotracheal tube (procedure)'\r\ncode &quot;Respiratory rate&quot;: '9279-1' from &quot;LOINC&quot; display 'Respiratory rate'\r\ncode &quot;Systolic blood pressure&quot;: '8480-6' from &quot;LOINC&quot; display 'Systolic blood pressure'\r\ncode &quot;Tobacco smoking status&quot;: '72166-2' from &quot;LOINC&quot; display 'Tobacco smoking status'\r\ncode &quot;ER&quot;: 'ER' from &quot;LocationRoles&quot; display 'Emergency room'\r\n\r\nparameter &quot;Measurement Period&quot; Interval&lt;DateTime&gt;\r\n\r\ncontext Patient\r\n\r\ndefine &quot;Initial Population&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot;\r\n\r\ndefine &quot;Denominator&quot;:\r\n  &quot;Initial Population&quot;\r\n\r\ndefine &quot;Denominator Exclusions&quot;:\r\n  &quot;Encounter With Degenerative Neurological Disorder&quot;\r\n    union &quot;Encounter With High Risk To Airway Head Neck And Thoracic Surgery&quot;\r\n    union &quot;Encounter With Mechanical Ventilation That Starts More Than One Hour Prior To Start Of First OR Procedure&quot;\r\n    union &quot;Encounter With Neuromuscular Disorder&quot;\r\n    union &quot;Encounter With PaCO2 Greater Than 50 And Arterial pH Less Than 7.30 Within 48 Hours Prior To Start Of First OR Procedure&quot;\r\n    union &quot;Encounter With PaO2 Less Than 50 Within 48 Hours Prior To Start Of First OR Procedure&quot;\r\n    union &quot;Encounter With Principal Diagnosis Of Acute Respiratory Failure&quot;\r\n    union &quot;Encounter With Diagnosis Of Acute Respiratory Failure Present On Admission&quot;\r\n    union &quot;Encounter With Tracheostomy Present On Admission&quot;\r\n    union &quot;Encounter With Tracheostomy Prior To Or On The Same Day Of First OR Procedure&quot;\r\n\r\ndefine &quot;Numerator&quot;:\r\n  &quot;Encounter With Intubation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure&quot;\r\n    union &quot;Encounter With Mechanical Ventilation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure And Preceded By Non Invasive Oxygen Therapy&quot;\r\n    union &quot;Encounter With Extubation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure More Than 48 Hours After End Of Anesthesia&quot;\r\n    union &quot;Encounter With Mechanical Ventilation Within 30 Days Of End Of First OR Procedure And Between 48 And 72 Hours After End Of OR Procedure And Not Preceded By Non Invasive Oxygen Therapy Or Anesthesia&quot;\r\n\r\ndefine &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot;:\r\n  &quot;Elective Inpatient Encounter With Age And Without Obstetrical Condition&quot; ElectiveEncounter\r\n    with [&quot;Procedure&quot;: &quot;General And Neuraxial Anesthesia&quot;] SurgeryWithAnesthesia\r\n      such that SurgeryWithAnesthesia.status = 'completed'\r\n        and SurgeryWithAnesthesia.performed.earliest ( ) during ElectiveEncounter.hospitalizationWithObservationAndOutpatientSurgeryService ( )\r\n        and SurgeryWithAnesthesia.performed.earliest ( ) 3 days or less after start of ElectiveEncounter.hospitalizationWithObservationAndOutpatientSurgeryService ( )\r\n\r\ndefine &quot;Encounter With Degenerative Neurological Disorder&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    where EncounterWithSurgery.reasonCode in &quot;Degenerative Neurological Disorder&quot;\r\n      or EncounterWithSurgery.encounterReason ( ).code in &quot;Degenerative Neurological Disorder&quot;\r\n\r\ndefine &quot;Encounter With High Risk To Airway Head Neck And Thoracic Surgery&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    with [&quot;Procedure&quot;: &quot;Head, Neck, And Thoracic Surgeries With High Risk Airway Compromise&quot;] HeadNeckProcedures\r\n      such that HeadNeckProcedures.status = 'completed'\r\n        and HeadNeckProcedures.startsDuringHospitalization ( EncounterWithSurgery )\r\n\r\ndefine &quot;Encounter With Mechanical Ventilation That Starts More Than One Hour Prior To Start Of First OR Procedure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    with [&quot;Procedure&quot;: &quot;Mechanical Ventilation&quot;] Ventilation\r\n      such that Ventilation.status = 'completed'\r\n        and Ventilation.performed.toInterval ( ) starts more than 1 hour before start of EncounterWithSurgery.FirstAnesthesiaDuringHospitalization ( ).performed.toInterval ( )\r\n        and Ventilation.startsDuringHospitalization ( EncounterWithSurgery )\r\n\r\ndefine &quot;Encounter With Neuromuscular Disorder&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    where EncounterWithSurgery.reasonCode in &quot;Neuromuscular Disorder&quot;\r\n      or EncounterWithSurgery.encounterReason ( ).code in &quot;Neuromuscular Disorder&quot;\r\n\r\ndefine &quot;Encounter With PaCO2 Greater Than 50 And Arterial pH Less Than 7.30 Within 48 Hours Prior To Start Of First OR Procedure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    let FirstProcedureTime: EncounterWithSurgery.FirstAnesthesiaDuringHospitalization ( ).performed.toInterval ( )\r\n    with [&quot;LaboratoryResultObservation&quot;: &quot;Carbon Dioxide Partial Pressure In Arterial Blood&quot;] CarbonDioxide\r\n      such that CarbonDioxide.status in { 'final', 'amended', 'corrected' }\r\n        and CarbonDioxide.effective.toInterval ( ) starts 48 hours or less before start of FirstProcedureTime\r\n        and CarbonDioxide.value as Quantity &gt; 50 'mm[Hg]'\r\n    with [&quot;LaboratoryResultObservation&quot;: &quot;Arterial Blood pH&quot;] BloodpH\r\n      such that BloodpH.status in { 'final', 'amended', 'corrected' }\r\n        and BloodpH.effective.toInterval ( ) starts 48 hours or less before start of FirstProcedureTime\r\n        and BloodpH.value as Quantity &lt; 7.30 '[pH]'\r\n\r\ndefine &quot;Encounter With PaO2 Less Than 50 Within 48 Hours Prior To Start Of First OR Procedure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    let FirstProcedure: EncounterWithSurgery.FirstAnesthesiaDuringHospitalization ( )\r\n    with [&quot;LaboratoryResultObservation&quot;: &quot;Oxygen Partial Pressure In Arterial Blood&quot;] Oxygen\r\n      such that Oxygen.status in { 'final', 'amended', 'corrected' }\r\n        and Oxygen.effective.toInterval ( ) starts 48 hours or less before start of FirstProcedure.performed.toInterval ( )\r\n        and Oxygen.value as Quantity &lt; 50 'mm[Hg]'\r\n\r\ndefine &quot;Encounter With Principal Diagnosis Of Acute Respiratory Failure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    where EncounterWithSurgery.hasPrincipalDiagnosisOf ( &quot;Acute Respiratory Failure&quot; )\r\n\r\ndefine &quot;Encounter With Diagnosis Of Acute Respiratory Failure Present On Admission&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    where EncounterWithSurgery.isDiagnosisPresentOnAdmission ( &quot;Acute Respiratory Failure&quot;, &quot;Present On Admission Or Clinically Undetermined&quot; )\r\n\r\ndefine &quot;Encounter With Tracheostomy Present On Admission&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    where EncounterWithSurgery.isDiagnosisPresentOnAdmission ( &quot;Tracheostomy Diagnoses&quot;, &quot;Present On Admission Or Clinically Undetermined&quot; )\r\n\r\ndefine &quot;Encounter With Tracheostomy Prior To Or On The Same Day Of First OR Procedure&quot;:\r\n  &quot;Encounter With Tracheostomy Before Day Of First OR Procedure&quot;\r\n    union &quot;Encounter With Tracheostomy Same Day Of First OR Procedure&quot;\r\n\r\ndefine &quot;Encounter With Intubation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    with [&quot;Procedure&quot;: &quot;Intubation&quot;] EndotrachealTubeIn\r\n      such that EndotrachealTubeIn.status = 'completed'\r\n        and EndotrachealTubeIn.starts30DaysOrLessAfterFirstAnesthesia ( EncounterWithSurgery )\r\n        and EndotrachealTubeIn.startsDuringHospitalization ( EncounterWithSurgery )\r\n        and EndotrachealTubeIn.performed.toInterval ( ) starts after end of EndotrachealTubeIn.LatestGeneralAnesthesiaOrMAC ( ).performed.toInterval ( )\r\n        and EncounterWithSurgery.isNotAtProceduralHospitalLocationDuring ( EndotrachealTubeIn.performed.toInterval ( ) )\r\n        and not ( &quot;Intubation During General Anesthesia And MAC&quot;.id contains EndotrachealTubeIn.id )\r\n\r\ndefine &quot;Encounter With Mechanical Ventilation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure And Preceded By Non Invasive Oxygen Therapy&quot;:\r\n  from\r\n    &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery,\r\n    [&quot;Procedure&quot;: &quot;Mechanical Ventilation&quot;] Ventilation,\r\n    &quot;Noninvasive Oxygen Therapy&quot; OxygenSupport\r\n    let VentilationInterval: Ventilation.performed.toInterval ( ),\r\n    LatestAnesthesiaInterval: Ventilation.LatestGeneralAnesthesiaOrMAC ( ).performed.toInterval ( )\r\n    where Ventilation.status = 'completed'\r\n      and Ventilation.starts30DaysOrLessAfterFirstAnesthesia ( EncounterWithSurgery )\r\n      and Ventilation.startsDuringHospitalization ( EncounterWithSurgery )\r\n      and VentilationInterval starts after end of LatestAnesthesiaInterval\r\n      and OxygenSupport.interval ( ) starts during Interval[end of LatestAnesthesiaInterval, start of VentilationInterval]\r\n      and EncounterWithSurgery.isNotAtProceduralHospitalLocationDuring ( VentilationInterval )\r\n    return EncounterWithSurgery\r\n\r\ndefine &quot;Encounter With Extubation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure More Than 48 Hours After End Of Anesthesia&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    with [&quot;Procedure&quot;: &quot;Removal of endotracheal tube (procedure)&quot;] Extubation\r\n      such that Extubation.status = 'completed'\r\n        and Extubation.isDuringHospitalization ( EncounterWithSurgery )\r\n        and Extubation.starts30DaysOrLessAfterFirstAnesthesia ( EncounterWithSurgery )\r\n        and Extubation.performed.toInterval ( ) starts more than 48 hours after end of Extubation.LatestGeneralAnesthesiaOrMAC ( ).performed.toInterval ( )\r\n        and not ( ( &quot;Extubation With Preceding Noninvasive Oxygen&quot;.id contains Extubation.id )\r\n            and not ( &quot;Extubation During General Anesthesia&quot;.id contains Extubation.id )\r\n        )\r\n        and EncounterWithSurgery.isNotAtProceduralHospitalLocation ( )\r\n\r\ndefine &quot;Encounter With Mechanical Ventilation Within 30 Days Of End Of First OR Procedure And Between 48 And 72 Hours After End Of OR Procedure And Not Preceded By Non Invasive Oxygen Therapy Or Anesthesia&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    with [&quot;Procedure&quot;: &quot;Mechanical Ventilation&quot;] Ventilation\r\n      such that Ventilation.status = 'completed'\r\n        and Ventilation.performed.toInterval ( ) starts 48 hours or more after end of Ventilation.LatestGeneralAnesthesiaOrMAC ( ).performed.toInterval ( )\r\n        and Ventilation.performed.toInterval ( ) starts 72 hours or less after end of Ventilation.LatestGeneralAnesthesiaOrMAC ( ).performed.toInterval ( )\r\n        and Ventilation.starts30DaysOrLessAfterFirstAnesthesia ( EncounterWithSurgery )\r\n        and Ventilation.startsDuringHospitalization ( EncounterWithSurgery )\r\n        and not ( &quot;Encounter With Mechanical Ventilation Outside Of Procedural Area Within 30 Days Of End Of First OR Procedure And Preceded By Non Invasive Oxygen Therapy&quot;.id contains EncounterWithSurgery.id )\r\n        and EncounterWithSurgery.isNotAtProceduralHospitalLocation ( )\r\n\r\ndefine &quot;Elective Inpatient Encounter With Age 18 And Older Without ED Visit&quot;:\r\n  [&quot;Encounter&quot;: &quot;Elective Inpatient Encounter&quot;] ElectiveEncounter\r\n    where ElectiveEncounter.status = 'finished'\r\n      and ElectiveEncounter.period ends during day of &quot;Measurement Period&quot;\r\n      and ElectiveEncounter.priority is not null implies ElectiveEncounter.priority ~ &quot;Elective (qualifier value)&quot;\r\n      and AgeInYearsAt(date from start of ElectiveEncounter.period) &gt;= 18\r\n      and not exists ( [&quot;Encounter&quot;: &quot;Emergency Department Visit&quot;] EDVisit\r\n          where EDVisit.status = 'finished'\r\n            and EDVisit.period ends 1 hour or less before or on start of ElectiveEncounter.period\r\n      )\r\n\r\ndefine &quot;Elective Inpatient Encounter With Age And Without Obstetrical Condition&quot;:\r\n  &quot;Elective Inpatient Encounter With Age 18 And Older Without ED Visit&quot; ElectiveEncounter\r\n    where not ( ElectiveEncounter.reasonCode in &quot;Obstetrical Or Pregnancy Related Conditions&quot;\r\n        or ElectiveEncounter.encounterReason ( ).code in &quot;Obstetrical Or Pregnancy Related Conditions&quot;\r\n    )\r\n\r\ndefine &quot;Encounter With Tracheostomy Before Day Of First OR Procedure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    let FirstProcedure: EncounterWithSurgery.FirstAnesthesiaDuringHospitalization ( )\r\n    with [&quot;Procedure&quot;: &quot;Tracheostomy Procedures&quot;] TracheostomySurgery\r\n      such that TracheostomySurgery.status = 'completed'\r\n        and TracheostomySurgery.startsDuringHospitalization ( EncounterWithSurgery )\r\n        and TracheostomySurgery.performed.toInterval ( ) starts before day of FirstProcedure.performed.toInterval ( )\r\n\r\ndefine &quot;Encounter With Tracheostomy Same Day Of First OR Procedure&quot;:\r\n  &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery\r\n    let FirstProcedure: EncounterWithSurgery.FirstAnesthesiaDuringHospitalization ( )\r\n    with [&quot;Procedure&quot;: &quot;Tracheostomy Procedures&quot;] TracheostomySurgery\r\n      such that TracheostomySurgery.status = 'completed'\r\n        and TracheostomySurgery.startsDuringHospitalization ( EncounterWithSurgery )\r\n        and TracheostomySurgery.performed.toInterval ( ) starts during day of FirstProcedure.performed.toInterval ( )\r\n\r\ndefine &quot;General Anesthesia And MAC&quot;:\r\n  [&quot;Procedure&quot;: &quot;Anesthesia Requiring Monitored Care&quot;] MAC\r\n    union [&quot;Procedure&quot;: &quot;General And Neuraxial Anesthesia&quot;]\r\n\r\ndefine &quot;Noninvasive Oxygen Therapy&quot;:\r\n  [&quot;Procedure&quot;: &quot;Non Invasive Oxygen Therapy By Nasal Cannula Or Mask&quot;] P\r\n    union [&quot;LaboratoryResultObservation&quot;: &quot;Non Invasive Oxygen Therapy&quot;] O\r\n\r\ndefine &quot;Intubation During General Anesthesia And MAC&quot;:\r\n  from\r\n    &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery,\r\n    [&quot;Procedure&quot;: &quot;Intubation&quot;] ProceduralIntubation,\r\n    &quot;General Anesthesia And MAC&quot; Anesthesia\r\n    where ProceduralIntubation.status = 'completed'\r\n      and ProceduralIntubation.startsDuringHospitalization ( EncounterWithSurgery )\r\n      and ProceduralIntubation.performed.toInterval ( ) starts during Anesthesia.performed.toInterval ( )\r\n    return ProceduralIntubation\r\n\r\ndefine &quot;Extubation During General Anesthesia&quot;:\r\n  from\r\n    &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery,\r\n    [&quot;Procedure&quot;: &quot;Removal of endotracheal tube (procedure)&quot;] Extubation,\r\n    &quot;General Anesthesia And MAC&quot; Anesthesia\r\n    where Extubation.status = 'completed'\r\n      and Extubation.startsDuringHospitalization ( EncounterWithSurgery )\r\n      and Extubation.performed.toInterval ( ) starts during Anesthesia.performed.toInterval ( )\r\n    return Extubation\r\n\r\ndefine &quot;Extubation With Preceding Noninvasive Oxygen&quot;:\r\n  from\r\n    &quot;Elective Inpatient Encounter With OR Procedure Within 3 Days&quot; EncounterWithSurgery,\r\n    [&quot;Procedure&quot;: &quot;Removal of endotracheal tube (procedure)&quot;] Extubation,\r\n    &quot;Noninvasive Oxygen Therapy&quot; OxygenSupport\r\n    let LatestAnesthesia: Extubation.LatestGeneralAnesthesiaOrMAC ( )\r\n    where Extubation.status = 'completed'\r\n      and Extubation.startsDuringHospitalization ( EncounterWithSurgery )\r\n      and Extubation.performed.toInterval ( ) starts after LatestAnesthesia.performed.toInterval ( )\r\n      and OxygenSupport.interval ( ) starts during Interval[end of LatestAnesthesia.performed.toInterval ( ), start of Extubation.performed.toInterval ( )]\r\n    return Extubation\r\n\r\ndefine &quot;Risk Variable All Encounter Diagnoses With POA Indication&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      diagnoses: QualifyingEncounter.claimDiagnosesWithPOA ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable ASA Physical Status Class&quot;:\r\n  [&quot;ObservationScreeningAssessment&quot;: &quot;American society of anesthesiologists morbidity state&quot;] ASAclass\r\n    with &quot;Initial Population&quot; QualifyingEncounter\r\n      such that ASAclass.status in { 'final', 'amended', 'corrected' }\r\n        and ASAclass.startsDuringHospitalization ( QualifyingEncounter )\r\n        and ASAclass.value as Concept in &quot;ASA Physical Status Class&quot;\r\n    return ASAclass.value as Concept\r\n\r\ndefine &quot;Risk Variable Body Mass Index (BMI)&quot;:\r\n  [&quot;USCoreBMIProfile&quot;: &quot;Body mass index (BMI) [Ratio]&quot;] BMI\r\n    with &quot;Initial Population&quot; InpatientEncounter\r\n      such that BMI.effective.toInterval ( ) starts during CQMCommon.&quot;HospitalizationWithObservation&quot; ( InpatientEncounter )\r\n        and BMI.value is not null\r\n        and BMI.status in { 'final', 'amended', 'corrected' }\r\n    return BMI.value as Quantity\r\n\r\ndefine &quot;Risk Variable Encounter Procedures&quot;:\r\n  from\r\n    [&quot;Procedure&quot;] TheProcedure,\r\n    &quot;Initial Population&quot; QualifyingEncounter\r\n    where TheProcedure.status = 'completed'\r\n      and TheProcedure.startsDuringHospitalization ( QualifyingEncounter )\r\n    return {\r\n      encounterId: QualifyingEncounter.id,\r\n      procedureId: TheProcedure.id,\r\n      procedureCode: TheProcedure.code,\r\n      procedureRank: TheProcedure.rank ( QualifyingEncounter ),\r\n      procedureTime: TheProcedure.performed.toInterval ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Albumin In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstAlbumin: QualifyingEncounter.FirstAlbumin ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Arterial pH In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstArterialpH: QualifyingEncounter.FirstArterialpH ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First AST In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstAST: QualifyingEncounter.FirstAST ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Bicarbonate In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstBicarbonate: QualifyingEncounter.FirstBicarbonate ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Bilirubin In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstBilirubin: QualifyingEncounter.FirstBilirubin ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Blood Urea Nitrogen In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstBUN: QualifyingEncounter.FirstBloodUreaNitrogen ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First BMI&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstBMI: QualifyingEncounter.FirstBMI ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Body Temperature In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstBodyTemp: QualifyingEncounter.FirstBodyTemperature ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Carbon Dioxide In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstCarbonDioxide: QualifyingEncounter.FirstCarbonDioxide ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Creatinine In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstCreatinine: QualifyingEncounter.FirstCreatinine ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Heart Rate In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstHeartRate: QualifyingEncounter.FirstHeartRate ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Hematocrit In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstHematocrit: QualifyingEncounter.FirstHematocrit ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Hemoglobin In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstHemoglobin: QualifyingEncounter.FirstHemoglobin ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Leukocyte Count In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstLeukocyte: QualifyingEncounter.FirstLeukocyte ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Oxygen In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstOxygen: QualifyingEncounter.FirstOxygen ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Platelet Count In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstPlatelet: QualifyingEncounter.FirstPlatelet ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Respiratory Rate In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstRespiratoryRate: QualifyingEncounter.FirstRespiratoryRate ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Sodium In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstSodium: QualifyingEncounter.FirstSodium ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First Systolic Blood Pressure In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstSystolic: QualifyingEncounter.FirstSystolicBloodPressure ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable First White Blood Cell Count In Encounter&quot;:\r\n  &quot;Initial Population&quot; QualifyingEncounter\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      firstWBCcount: QualifyingEncounter.FirstWhiteBloodCellCount ( )\r\n    }\r\n\r\ndefine &quot;Risk Variable Principal Procedure&quot;:\r\n  from\r\n    [&quot;Procedure&quot;] TheProcedure,\r\n    &quot;Initial Population&quot; QualifyingEncounter\r\n    where TheProcedure.status = 'completed'\r\n      and TheProcedure.rank ( QualifyingEncounter ) is not null //= 1\r\n      \r\n      and TheProcedure.startsDuringHospitalization ( QualifyingEncounter )\r\n    return Tuple {\r\n      encounterId: QualifyingEncounter.id,\r\n      procedureId: TheProcedure.id,\r\n      procedureCode: TheProcedure.code,\r\n      procedureRank: TheProcedure.rank ( QualifyingEncounter ),\r\n      procedureTime: TheProcedure.performed.toInterval ( )\r\n    }\r\n\r\ndefine &quot;SDE Ethnicity&quot;:\r\n  SDE.&quot;SDE Ethnicity&quot;\r\n\r\ndefine &quot;SDE Payer&quot;:\r\n  SDE.&quot;SDE Payer&quot;\r\n\r\ndefine &quot;SDE Race&quot;:\r\n  SDE.&quot;SDE Race&quot;\r\n\r\ndefine &quot;SDE Sex&quot;:\r\n  SDE.&quot;SDE Sex&quot;\r\n\r\ndefine fluent function FirstAlbumin(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Albumin Lab Test&quot;] FirstAlbuminTest\r\n      where FirstAlbuminTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstAlbuminTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstArterialpH(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Arterial Blood pH&quot;] FirstArterialpHTest\r\n      where FirstArterialpHTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstArterialpHTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstAST(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Aspartate transaminase Lab Test&quot;] FirstASTTest\r\n      where FirstASTTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstASTTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstBicarbonate(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Bicarbonate Lab Test&quot;] FirstBicarbonateTest\r\n      where FirstBicarbonateTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstBicarbonateTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstBilirubin(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Bilirubin Lab Test&quot;] FirstBilirubinTest\r\n      where FirstBilirubinTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstBilirubinTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstBMI(QualifyingEncounter Encounter):\r\n  First([USCoreBMIProfile: &quot;Body mass index (BMI) [Ratio]&quot;] FirstBodyMass\r\n      where FirstBodyMass.status in { 'final', 'amended', 'corrected' }\r\n        and FirstBodyMass.effective.toInterval() starts during CQMCommon.&quot;HospitalizationWithObservation&quot;(QualifyingEncounter)\r\n        and FirstBodyMass.value is not null\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstBodyTemperature(QualifyingEncounter Encounter):\r\n  First([&quot;USCoreBodyTemperatureProfile&quot;: &quot;Body temperature&quot;] FirstTemperature\r\n      where FirstTemperature.status in { 'final', 'amended', 'corrected' }\r\n        and FirstTemperature.effective.earliest() during QualifyingEncounter.hospitalizationWithObservation()\r\n        and FirstTemperature.value is not null\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstCarbonDioxide(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Carbon Dioxide Partial Pressure In Arterial Blood&quot;] FirstCarbonDioxideTest\r\n      where FirstCarbonDioxideTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstCarbonDioxideTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstCreatinine(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Creatinine Lab Test&quot;] FirstCreatinineTest\r\n      where FirstCreatinineTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstCreatinineTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstHeartRate(QualifyingEncounter Encounter):\r\n  First([&quot;USCoreHeartRateProfile&quot;: &quot;Heart rate&quot;] FirstHeartBeats\r\n      where FirstHeartBeats.status in { 'final', 'amended', 'corrected' }\r\n        and FirstHeartBeats.effective.earliest() during QualifyingEncounter.hospitalizationWithObservation()\r\n        and FirstHeartBeats.value is not null\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstHematocrit(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Hematocrit Lab Test&quot;] FirstHematocritTest\r\n      where FirstHematocritTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstHematocritTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstHemoglobin(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Hemoglobin Lab Test&quot;] FirstHemoglobinTest\r\n      where FirstHemoglobinTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstHemoglobinTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstLeukocyte(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Leukocyte Count Lab Test&quot;] FirstLeukocyteCount\r\n      where FirstLeukocyteCount.status in { 'final', 'amended', 'corrected' }\r\n        and FirstLeukocyteCount.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstOxygen(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Oxygen Partial Pressure In Arterial Blood&quot;] FirstOxygenTest\r\n      where FirstOxygenTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstOxygenTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstPlatelet(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Platelet Count Lab Test&quot;] FirstPlateletCount\r\n      where FirstPlateletCount.status in { 'final', 'amended', 'corrected' }\r\n        and FirstPlateletCount.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstRespiratoryRate(QualifyingEncounter Encounter):\r\n  First([USCoreRespiratoryRateProfile: &quot;Respiratory rate&quot;] FirstRespiration\r\n      where FirstRespiration.status in { 'final', 'amended', 'corrected' }\r\n        and FirstRespiration.effective.earliest() during QualifyingEncounter.hospitalizationWithObservation()\r\n        and FirstRespiration.value is not null\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstSodium(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Sodium Lab Test&quot;] FirstSodiumTest\r\n      where FirstSodiumTest.status in { 'final', 'amended', 'corrected' }\r\n        and FirstSodiumTest.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine &quot;Qualifying Systolic Blood Pressure Reading&quot;:\r\n  [&quot;USCoreBloodPressureProfile&quot;] BloodPressure\r\n    where BloodPressure.effective.earliest ( ) during day of &quot;Measurement Period&quot;\r\n\r\ndefine fluent function &quot;FirstSystolicBloodPressure&quot;(QualifyingEncounter Encounter):\r\n  First(&quot;Qualifying Systolic Blood Pressure Reading&quot; SBPReading\r\n      where SBPReading.status in { 'final', 'amended', 'corrected' }\r\n        and SBPReading.effective.earliest() during QualifyingEncounter.hospitalizationWithObservation()\r\n      return singleton from(SBPReading.component SBPComponent\r\n          where SBPComponent.code ~ &quot;Systolic blood pressure&quot;\r\n          return SBPComponent.value as Quantity\r\n      )\r\n  )\r\n\r\ndefine fluent function FirstWhiteBloodCellCount(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;White Blood Cells Count Lab Test&quot;] FirstWBCCount\r\n      where FirstWBCCount.status in { 'final', 'amended', 'corrected' }\r\n        and FirstWBCCount.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine fluent function FirstBloodUreaNitrogen(QualifyingEncounter Encounter):\r\n  First([LaboratoryResultObservation: &quot;Blood Urea Nitrogen Lab Test&quot;] FirstBUN\r\n      where FirstBUN.status in { 'final', 'amended', 'corrected' }\r\n        and FirstBUN.isEarliestDuringHospitalization(QualifyingEncounter)\r\n      sort by effective.earliest()\r\n  ).value as Quantity\r\n\r\ndefine &quot;Anesthesia Procedure List&quot;:\r\n  [&quot;Procedure&quot;: &quot;General And Neuraxial Anesthesia&quot;] AnesthesiaProcedures\r\n    where AnesthesiaProcedures.performed.latest ( ) during day of &quot;Measurement Period&quot;\r\n\r\ndefine fluent function &quot;FirstAnesthesiaDuringHospitalization&quot;(QualifyingEncounter Encounter):\r\n  First(&quot;Anesthesia Procedure List&quot; anesthesia\r\n      where anesthesia.status = 'completed'\r\n        and anesthesia.startsDuringHospitalization(QualifyingEncounter)\r\n      sort by start of performed.toInterval()\r\n  )\r\n\r\ndefine fluent function LatestGeneralAnesthesiaOrMAC(event Procedure):\r\n  Last(&quot;General Anesthesia And MAC&quot; ProcedureList\r\n      where ProcedureList.status = 'completed'\r\n        and ProcedureList.performed.toInterval() ends before start of event.performed.toInterval()\r\n      sort by start of performed.toInterval()\r\n  )\r\n\r\ndefine fluent function startsDuringHospitalization(choice Choice&lt;Procedure, LaboratoryResultObservation, ObservationScreeningAssessment&gt;, enc Encounter):\r\n  case\r\n    when choice is Procedure then ( choice as Procedure ).performed.toInterval ( ) starts during CQMCommon.&quot;HospitalizationWithObservationAndOutpatientSurgeryService&quot; ( enc )\r\n    when choice is LaboratoryResultObservation then ( choice as LaboratoryResultObservation ).effective.toInterval ( ) starts during CQMCommon.&quot;HospitalizationWithObservationAndOutpatientSurgeryService&quot; ( enc )\r\n    when choice is ObservationScreeningAssessment then ( choice as ObservationScreeningAssessment ).effective.toInterval ( ) starts during CQMCommon.&quot;HospitalizationWithObservationAndOutpatientSurgeryService&quot; ( enc ) \r\n    else false end\r\n\r\ndefine fluent function starts30DaysOrLessAfterFirstAnesthesia(procedure Procedure, encounter Encounter):\r\n  procedure.performed.toInterval ( ) starts 30 days or less after end of encounter.FirstAnesthesiaDuringHospitalization ( ).performed.toInterval ( )\r\n\r\ndefine fluent function isNotAtProceduralHospitalLocation(encounter Encounter):\r\n  not exists ( encounter.location EncounterLocation\r\n      with [Location] Location\r\n        such that EncounterLocation.location.references ( Location )\r\n          and Location.type.includesCode ( &quot;ER&quot; )\r\n  )\r\n\r\ndefine fluent function isNotAtProceduralHospitalLocationDuring(encounter Encounter, intrvl Interval&lt;DateTime&gt;):\r\n  not exists ( encounter.location EncounterLocation\r\n      with [Location] Location\r\n        such that EncounterLocation.location.references ( Location )\r\n          and Location.type.includesCode ( &quot;ER&quot; )\r\n          and EncounterLocation.period starts during intrvl\r\n  )\r\n\r\ndefine fluent function isDuringHospitalization(choice Choice&lt;Procedure, LaboratoryResultObservation&gt;, enc Encounter):\r\n  case\r\n    when choice is Procedure then QICoreCommon.ToInterval ( ( choice as Procedure ).performed ) during CQMCommon.&quot;HospitalizationWithObservationAndOutpatientSurgeryService&quot; ( enc )\r\n    when choice is LaboratoryResultObservation then QICoreCommon.ToInterval ( ( choice as LaboratoryResultObservation ).effective ) during CQMCommon.&quot;HospitalizationWithObservationAndOutpatientSurgeryService&quot; ( enc ) \r\n    else false end\r\n\r\ndefine fluent function earliestOccursDuringHospitalization(observation LaboratoryResultObservation, encounter Encounter):\r\n  observation.effective.earliest ( ) during encounter.hospitalizationWithObservationAndOutpatientSurgeryService ( )\r\n    and observation.value is not null\r\n\r\ndefine fluent function earliestIsDuringHospitalization(procedure Procedure, encounter Encounter):\r\n  procedure.performed.earliest ( ) during encounter.hospitalizationWithObservationAndOutpatientSurgeryService ( )\r\n    and procedure.partOf is not null\r\n\r\ndefine fluent function isEarliestDuringHospitalization(choice Choice&lt;Procedure, LaboratoryResultObservation&gt;, encounter Encounter):\r\n  case\r\n    when choice is Procedure then ( choice as Procedure ).earliestIsDuringHospitalization ( encounter )\r\n    when choice is LaboratoryResultObservation then ( choice as LaboratoryResultObservation ).earliestOccursDuringHospitalization ( encounter ) \r\n    else false end\r\n\r\ndefine fluent function interval(choice Choice&lt;Procedure, LaboratoryResultObservation, Encounter&gt;):\r\n  case\r\n    when choice is Procedure then ( choice as Procedure ).performed.toInterval ( )\r\n    when choice is LaboratoryResultObservation then ( choice as LaboratoryResultObservation ).effective.toInterval ( )\r\n    when choice is Encounter then ( choice as Encounter ).period.toInterval ( ) \r\n    else null as Interval&lt;DateTime&gt;end\r\n\r\ndefine fluent function rank(targetProcedure Procedure, parentEncounter Encounter):\r\n  singleton from ( targetProcedure P\r\n      let claim: ( [Claim] C\r\n          where C.status = 'active'\r\n            and C.use = 'claim'\r\n            and exists ( C.item I\r\n                where I.encounter.references ( parentEncounter )\r\n            )\r\n      ),\r\n      claimProc: ( claim.procedure proc\r\n          where proc.procedure.references ( P )\r\n      )\r\n      return claimProc.sequence R\r\n  )\r\n\r\ndefine fluent function claimDiagnosesWithPOA(encounter Encounter):\r\n  encounter E\r\n    let claim: ( [Claim] C\r\n        where C.status = 'active'\r\n          and C.use = 'claim'\r\n          and exists ( C.item I\r\n              where I.encounter.references ( E )\r\n          )\r\n    ),\r\n    claimItem: ( claim.item I\r\n        where I.encounter.references ( E )\r\n    )\r\n    return claim.diagnosis D\r\n      where D.sequence in claimItem.diagnosisSequence\r\n        and D.onAdmission is not null\r\n\r\ndefine fluent function encounterReason(Encounter Encounter):\r\n  // There is a problem in the CQMCommon fluent function 'encounterDiagnosis' wherein the union operation isn't working as used.\r\n  // This function fixes that usage, but should be considered temporary until the library function works properly   \r\n  \r\n  \r\n  Encounter.reasonReference D\r\n    return singleton from ( ( [ConditionEncounterDiagnosis] cA\r\n        union [ConditionProblemsHealthConcerns] cB ) C\r\n        where D.references ( C.id )\r\n    )</code></pre>\n      </td>\n    </tr>\n    \n    \n    \n  \n\n<tr>\n  <th colspan=\"2\" scope=\"row\" class=\"row-header\">Generated using version 0.4.7 of the sample-content-ig Liquid templates</th>\n</tr>\n\n    </tbody>\n  </table>\n</div>"
  },
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.25.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": false
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "Overloads"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "97816-3",
      "display": "American society of anesthesiologists morbidity state"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "39156-5",
      "display": "Body mass index (BMI) [Ratio]"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "8310-5",
      "display": "Body temperature"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "103390000",
      "display": "Elective (qualifier value)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "8867-4",
      "display": "Heart rate"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://snomed.info/sct",
      "code": "271280005",
      "display": "Removal of endotracheal tube (procedure)"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "9279-1",
      "display": "Respiratory rate"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "8480-6",
      "display": "Systolic blood pressure"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://loinc.org",
      "code": "72166-2",
      "display": "Tobacco smoking status"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-directReferenceCode",
    "valueCoding": {
      "system": "http://terminology.hl7.org/CodeSystem/v3-RoleCode",
      "code": "ER",
      "display": "ER"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/uv/crmi/StructureDefinition/crmi-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "https://madie.cms.gov/Library/CMS1218FHIRHHRF",
  "identifier": [ {
    "use": "official",
    "system": "https://madie.cms.gov/login",
    "value": "CMS1218FHIRHHRF"
  } ],
  "version": "0.2.000",
  "name": "CMS1218FHIRHHRF",
  "title": "CMS1218FHIRHHRF",
  "status": "active",
  "experimental": false,
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "date": "2025-07-07T20:06:49+00:00",
  "publisher": "Centers for Medicare & Medicaid Services (CMS)",
  "description": "CMS1218FHIRHHRF",
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBDTVMxMjE4RkhJUkhIUkYgdmVyc2lvbiAnMC4yLjAwMCcNCg0KdXNpbmcgUUlDb3JlIHZlcnNpb24gJzYuMC4wJw0KDQppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuNC4wMDAnIGNhbGxlZCBGSElSSGVscGVycw0KaW5jbHVkZSBTdXBwbGVtZW50YWxEYXRhRWxlbWVudHMgdmVyc2lvbiAnNS4xLjAwMCcgY2FsbGVkIFNERQ0KaW5jbHVkZSBDUU1Db21tb24gdmVyc2lvbiAnNC4xLjAwMCcgY2FsbGVkIENRTUNvbW1vbg0KaW5jbHVkZSBRSUNvcmVDb21tb24gdmVyc2lvbiAnNC4wLjAwMCcgY2FsbGVkIFFJQ29yZUNvbW1vbg0KDQpjb2Rlc3lzdGVtICJMT0lOQyI6ICdodHRwOi8vbG9pbmMub3JnJw0KY29kZXN5c3RlbSAiU05PTUVEQ1QiOiAnaHR0cDovL3Nub21lZC5pbmZvL3NjdCcNCmNvZGVzeXN0ZW0gIkxvY2F0aW9uUm9sZXMiOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1Sb2xlQ29kZScNCg0KdmFsdWVzZXQgIkFjdXRlIFJlc3BpcmF0b3J5IEZhaWx1cmUiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4Ljg4Jw0KdmFsdWVzZXQgIkFsYnVtaW4gTGFiIFRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjIyMScNCnZhbHVlc2V0ICJBbmVzdGhlc2lhIFJlcXVpcmluZyBNb25pdG9yZWQgQ2FyZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjU1Jw0KdmFsdWVzZXQgIkFydGVyaWFsIEJsb29kIHBIIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC45NicNCnZhbHVlc2V0ICJBU0EgUGh5c2ljYWwgU3RhdHVzIENsYXNzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMTcnDQp2YWx1ZXNldCAiQXNwYXJ0YXRlIHRyYW5zYW1pbmFzZSBMYWIgVGVzdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjI0Jw0KdmFsdWVzZXQgIkJpY2FyYm9uYXRlIExhYiBUZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0NS4xMzknDQp2YWx1ZXNldCAiQmlsaXJ1YmluIExhYiBUZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMjMnDQp2YWx1ZXNldCAiQmxvb2QgVXJlYSBOaXRyb2dlbiBMYWIgVGVzdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjE4Jw0KdmFsdWVzZXQgIkNhcmJvbiBEaW94aWRlIFBhcnRpYWwgUHJlc3N1cmUgSW4gQXJ0ZXJpYWwgQmxvb2QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4Ljk1Jw0KdmFsdWVzZXQgIkNyZWF0aW5pbmUgTGFiIFRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuNjY2LjUuMjM2MycNCnZhbHVlc2V0ICJEZWdlbmVyYXRpdmUgTmV1cm9sb2dpY2FsIERpc29yZGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yNDEnDQp2YWx1ZXNldCAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguODUnDQp2YWx1ZXNldCAiRW1lcmdlbmN5IERlcGFydG1lbnQgVmlzaXQiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI5MicNCnZhbHVlc2V0ICJHZW5lcmFsIEFuZCBOZXVyYXhpYWwgQW5lc3RoZXNpYSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjA4Jw0KdmFsdWVzZXQgIkhlYWQgQW5kIE5lY2sgU3VyZ2VyaWVzIFdpdGggSGlnaCBSaXNrIEFpcndheSBDb21wcm9taXNlIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4xODMnDQp2YWx1ZXNldCAiSGVhZCwgTmVjaywgQW5kIFRob3JhY2ljIFN1cmdlcmllcyBXaXRoIEhpZ2ggUmlzayBBaXJ3YXkgQ29tcHJvbWlzZSI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjUxJw0KdmFsdWVzZXQgIkhlbWF0b2NyaXQgTGFiIFRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjExNCcNCnZhbHVlc2V0ICJIZW1vZ2xvYmluIExhYiBUZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMTknDQp2YWx1ZXNldCAiSW50dWJhdGlvbiI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTc5Jw0KdmFsdWVzZXQgIkxldWtvY3l0ZSBDb3VudCBMYWIgVGVzdCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjIyJw0KdmFsdWVzZXQgIk1lY2hhbmljYWwgVmVudGlsYXRpb24iOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjEwNycNCnZhbHVlc2V0ICJOZXVyb211c2N1bGFyIERpc29yZGVyIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMzknDQp2YWx1ZXNldCAiTm9uIEludmFzaXZlIE94eWdlbiBUaGVyYXB5IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMTMnDQp2YWx1ZXNldCAiTm9uIEludmFzaXZlIE94eWdlbiBUaGVyYXB5IEJ5IE5hc2FsIENhbm51bGEgT3IgTWFzayI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMjA5Jw0KdmFsdWVzZXQgIk9ic3RldHJpY2FsIE9yIFByZWduYW5jeSBSZWxhdGVkIENvbmRpdGlvbnMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzODgzLjMuMTE3LjEuNy4xLjI2MycNCnZhbHVlc2V0ICJPeHlnZW4gUGFydGlhbCBQcmVzc3VyZSBJbiBBcnRlcmlhbCBCbG9vZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguOTQnDQp2YWx1ZXNldCAiUGxhdGVsZXQgQ291bnQgTGFiIFRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjEyNycNCnZhbHVlc2V0ICJQcmVzZW50IE9uIEFkbWlzc2lvbiBPciBDbGluaWNhbGx5IFVuZGV0ZXJtaW5lZCI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjExNDcuMTk3Jw0KdmFsdWVzZXQgIlByb2NlZHVyYWwgSG9zcGl0YWwgTG9jYXRpb25zIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC4yMTYnDQp2YWx1ZXNldCAiU21va2luZyBTdGF0dXMiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMjQ4LjIyMCcNCnZhbHVlc2V0ICJTb2RpdW0gTGFiIFRlc3QiOiAnaHR0cDovL2N0cy5ubG0ubmloLmdvdi9maGlyL1ZhbHVlU2V0LzIuMTYuODQwLjEuMTEzNzYyLjEuNC4xMDQ1LjExOScNCnZhbHVlc2V0ICJUcmFjaGVvc3RvbXkgRGlhZ25vc2VzIjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTI0OC44OScNCnZhbHVlc2V0ICJUcmFjaGVvc3RvbXkgUHJvY2VkdXJlcyI6ICdodHRwOi8vY3RzLm5sbS5uaWguZ292L2ZoaXIvVmFsdWVTZXQvMi4xNi44NDAuMS4xMTM3NjIuMS40LjEyNDguMTgxJw0KdmFsdWVzZXQgIldoaXRlIEJsb29kIENlbGxzIENvdW50IExhYiBUZXN0IjogJ2h0dHA6Ly9jdHMubmxtLm5paC5nb3YvZmhpci9WYWx1ZVNldC8yLjE2Ljg0MC4xLjExMzc2Mi4xLjQuMTA0NS4xMjknDQoNCmNvZGUgIkFtZXJpY2FuIHNvY2lldHkgb2YgYW5lc3RoZXNpb2xvZ2lzdHMgbW9yYmlkaXR5IHN0YXRlIjogJzk3ODE2LTMnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdBbWVyaWNhbiBzb2NpZXR5IG9mIGFuZXN0aGVzaW9sb2dpc3RzIG1vcmJpZGl0eSBzdGF0ZScNCmNvZGUgIkJvZHkgbWFzcyBpbmRleCAoQk1JKSBbUmF0aW9dIjogJzM5MTU2LTUnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdCb2R5IG1hc3MgaW5kZXggKEJNSSkgW1JhdGlvXScNCmNvZGUgIkJvZHkgdGVtcGVyYXR1cmUiOiAnODMxMC01JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnQm9keSB0ZW1wZXJhdHVyZScNCmNvZGUgIkVsZWN0aXZlIChxdWFsaWZpZXIgdmFsdWUpIjogJzEwMzM5MDAwMCcgZnJvbSAiU05PTUVEQ1QiIGRpc3BsYXkgJ0VsZWN0aXZlIChxdWFsaWZpZXIgdmFsdWUpJw0KY29kZSAiSGVhcnQgcmF0ZSI6ICc4ODY3LTQnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdIZWFydCByYXRlJw0KY29kZSAiUmVtb3ZhbCBvZiBlbmRvdHJhY2hlYWwgdHViZSAocHJvY2VkdXJlKSI6ICcyNzEyODAwMDUnIGZyb20gIlNOT01FRENUIiBkaXNwbGF5ICdSZW1vdmFsIG9mIGVuZG90cmFjaGVhbCB0dWJlIChwcm9jZWR1cmUpJw0KY29kZSAiUmVzcGlyYXRvcnkgcmF0ZSI6ICc5Mjc5LTEnIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdSZXNwaXJhdG9yeSByYXRlJw0KY29kZSAiU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiOiAnODQ4MC02JyBmcm9tICJMT0lOQyIgZGlzcGxheSAnU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUnDQpjb2RlICJUb2JhY2NvIHNtb2tpbmcgc3RhdHVzIjogJzcyMTY2LTInIGZyb20gIkxPSU5DIiBkaXNwbGF5ICdUb2JhY2NvIHNtb2tpbmcgc3RhdHVzJw0KY29kZSAiRVIiOiAnRVInIGZyb20gIkxvY2F0aW9uUm9sZXMiIGRpc3BsYXkgJ0VtZXJnZW5jeSByb29tJw0KDQpwYXJhbWV0ZXIgIk1lYXN1cmVtZW50IFBlcmlvZCIgSW50ZXJ2YWw8RGF0ZVRpbWU+DQogIGRlZmF1bHQgSW50ZXJ2YWxbQDIwMjYtMDEtMDFUMDA6MDA6MDAuMFosIEAyMDI2LTEyLTMxVDIzOjU5OjAwLjBaICkNCg0KY29udGV4dCBQYXRpZW50DQoNCmRlZmluZSAiSW5pdGlhbCBQb3B1bGF0aW9uIjoNCiAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyINCg0KZGVmaW5lICJEZW5vbWluYXRvciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iDQoNCmRlZmluZSAiRGVub21pbmF0b3IgRXhjbHVzaW9ucyI6DQogICJFbmNvdW50ZXIgV2l0aCBEZWdlbmVyYXRpdmUgTmV1cm9sb2dpY2FsIERpc29yZGVyIg0KICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBIaWdoIFJpc2sgVG8gQWlyd2F5IEhlYWQgTmVjayBBbmQgVGhvcmFjaWMgU3VyZ2VyeSINCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggTWVjaGFuaWNhbCBWZW50aWxhdGlvbiBUaGF0IFN0YXJ0cyBNb3JlIFRoYW4gT25lIEhvdXIgUHJpb3IgVG8gU3RhcnQgT2YgRmlyc3QgT1IgUHJvY2VkdXJlIg0KICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBOZXVyb211c2N1bGFyIERpc29yZGVyIg0KICAgIHVuaW9uICJFbmNvdW50ZXIgV2l0aCBQYUNPMiBHcmVhdGVyIFRoYW4gNTAgQW5kIEFydGVyaWFsIHBIIExlc3MgVGhhbiA3LjMwIFdpdGhpbiA0OCBIb3VycyBQcmlvciBUbyBTdGFydCBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiDQogICAgdW5pb24gIkVuY291bnRlciBXaXRoIFBhTzIgTGVzcyBUaGFuIDUwIFdpdGhpbiA0OCBIb3VycyBQcmlvciBUbyBTdGFydCBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiDQogICAgdW5pb24gIkVuY291bnRlciBXaXRoIFByaW5jaXBhbCBEaWFnbm9zaXMgT2YgQWN1dGUgUmVzcGlyYXRvcnkgRmFpbHVyZSINCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggRGlhZ25vc2lzIE9mIEFjdXRlIFJlc3BpcmF0b3J5IEZhaWx1cmUgUHJlc2VudCBPbiBBZG1pc3Npb24iDQogICAgdW5pb24gIkVuY291bnRlciBXaXRoIFRyYWNoZW9zdG9teSBQcmVzZW50IE9uIEFkbWlzc2lvbiINCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggVHJhY2hlb3N0b215IFByaW9yIFRvIE9yIE9uIFRoZSBTYW1lIERheSBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiDQoNCmRlZmluZSAiTnVtZXJhdG9yIjoNCiAgIkVuY291bnRlciBXaXRoIEludHViYXRpb24gT3V0c2lkZSBPZiBQcm9jZWR1cmFsIEFyZWEgV2l0aGluIDMwIERheXMgT2YgRW5kIE9mIEZpcnN0IE9SIFByb2NlZHVyZSINCiAgICB1bmlvbiAiRW5jb3VudGVyIFdpdGggTWVjaGFuaWNhbCBWZW50aWxhdGlvbiBPdXRzaWRlIE9mIFByb2NlZHVyYWwgQXJlYSBXaXRoaW4gMzAgRGF5cyBPZiBFbmQgT2YgRmlyc3QgT1IgUHJvY2VkdXJlIEFuZCBQcmVjZWRlZCBCeSBOb24gSW52YXNpdmUgT3h5Z2VuIFRoZXJhcHkiDQogICAgdW5pb24gIkVuY291bnRlciBXaXRoIEV4dHViYXRpb24gT3V0c2lkZSBPZiBQcm9jZWR1cmFsIEFyZWEgV2l0aGluIDMwIERheXMgT2YgRW5kIE9mIEZpcnN0IE9SIFByb2NlZHVyZSBNb3JlIFRoYW4gNDggSG91cnMgQWZ0ZXIgRW5kIE9mIEFuZXN0aGVzaWEiDQogICAgdW5pb24gIkVuY291bnRlciBXaXRoIE1lY2hhbmljYWwgVmVudGlsYXRpb24gV2l0aGluIDMwIERheXMgT2YgRW5kIE9mIEZpcnN0IE9SIFByb2NlZHVyZSBBbmQgQmV0d2VlbiA0OCBBbmQgNzIgSG91cnMgQWZ0ZXIgRW5kIE9mIE9SIFByb2NlZHVyZSBBbmQgTm90IFByZWNlZGVkIEJ5IE5vbiBJbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSBPciBBbmVzdGhlc2lhIg0KDQpkZWZpbmUgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyI6DQogICJFbGVjdGl2ZSBJbnBhdGllbnQgRW5jb3VudGVyIFdpdGggQWdlIEFuZCBXaXRob3V0IE9ic3RldHJpY2FsIENvbmRpdGlvbiIgRWxlY3RpdmVFbmNvdW50ZXINCiAgICB3aXRoIFsiUHJvY2VkdXJlIjogIkdlbmVyYWwgQW5kIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gU3VyZ2VyeVdpdGhBbmVzdGhlc2lhDQogICAgICBzdWNoIHRoYXQgU3VyZ2VyeVdpdGhBbmVzdGhlc2lhLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICAgIGFuZCBTdXJnZXJ5V2l0aEFuZXN0aGVzaWEucGVyZm9ybWVkLmVhcmxpZXN0ICggKSBkdXJpbmcgRWxlY3RpdmVFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlICggKQ0KICAgICAgICBhbmQgU3VyZ2VyeVdpdGhBbmVzdGhlc2lhLnBlcmZvcm1lZC5lYXJsaWVzdCAoICkgMyBkYXlzIG9yIGxlc3MgYWZ0ZXIgc3RhcnQgb2YgRWxlY3RpdmVFbmNvdW50ZXIuaG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlICggKQ0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIERlZ2VuZXJhdGl2ZSBOZXVyb2xvZ2ljYWwgRGlzb3JkZXIiOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIHdoZXJlIEVuY291bnRlcldpdGhTdXJnZXJ5LnJlYXNvbkNvZGUgaW4gIkRlZ2VuZXJhdGl2ZSBOZXVyb2xvZ2ljYWwgRGlzb3JkZXIiDQogICAgICBvciBFbmNvdW50ZXJXaXRoU3VyZ2VyeS5lbmNvdW50ZXJSZWFzb24gKCApLmNvZGUgaW4gIkRlZ2VuZXJhdGl2ZSBOZXVyb2xvZ2ljYWwgRGlzb3JkZXIiDQoNCmRlZmluZSAiRW5jb3VudGVyIFdpdGggSGlnaCBSaXNrIFRvIEFpcndheSBIZWFkIE5lY2sgQW5kIFRob3JhY2ljIFN1cmdlcnkiOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIHdpdGggWyJQcm9jZWR1cmUiOiAiSGVhZCwgTmVjaywgQW5kIFRob3JhY2ljIFN1cmdlcmllcyBXaXRoIEhpZ2ggUmlzayBBaXJ3YXkgQ29tcHJvbWlzZSJdIEhlYWROZWNrUHJvY2VkdXJlcw0KICAgICAgc3VjaCB0aGF0IEhlYWROZWNrUHJvY2VkdXJlcy5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgICBhbmQgSGVhZE5lY2tQcm9jZWR1cmVzLnN0YXJ0c0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBNZWNoYW5pY2FsIFZlbnRpbGF0aW9uIFRoYXQgU3RhcnRzIE1vcmUgVGhhbiBPbmUgSG91ciBQcmlvciBUbyBTdGFydCBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIHdpdGggWyJQcm9jZWR1cmUiOiAiTWVjaGFuaWNhbCBWZW50aWxhdGlvbiJdIFZlbnRpbGF0aW9uDQogICAgICBzdWNoIHRoYXQgVmVudGlsYXRpb24uc3RhdHVzID0gJ2NvbXBsZXRlZCcNCiAgICAgICAgYW5kIFZlbnRpbGF0aW9uLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgbW9yZSB0aGFuIDEgaG91ciBiZWZvcmUgc3RhcnQgb2YgRW5jb3VudGVyV2l0aFN1cmdlcnkuRmlyc3RBbmVzdGhlc2lhRHVyaW5nSG9zcGl0YWxpemF0aW9uICggKS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICAgICAgYW5kIFZlbnRpbGF0aW9uLnN0YXJ0c0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBOZXVyb211c2N1bGFyIERpc29yZGVyIjoNCiAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyIgRW5jb3VudGVyV2l0aFN1cmdlcnkNCiAgICB3aGVyZSBFbmNvdW50ZXJXaXRoU3VyZ2VyeS5yZWFzb25Db2RlIGluICJOZXVyb211c2N1bGFyIERpc29yZGVyIg0KICAgICAgb3IgRW5jb3VudGVyV2l0aFN1cmdlcnkuZW5jb3VudGVyUmVhc29uICggKS5jb2RlIGluICJOZXVyb211c2N1bGFyIERpc29yZGVyIg0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIFBhQ08yIEdyZWF0ZXIgVGhhbiA1MCBBbmQgQXJ0ZXJpYWwgcEggTGVzcyBUaGFuIDcuMzAgV2l0aGluIDQ4IEhvdXJzIFByaW9yIFRvIFN0YXJ0IE9mIEZpcnN0IE9SIFByb2NlZHVyZSI6DQogICJFbGVjdGl2ZSBJbnBhdGllbnQgRW5jb3VudGVyIFdpdGggT1IgUHJvY2VkdXJlIFdpdGhpbiAzIERheXMiIEVuY291bnRlcldpdGhTdXJnZXJ5DQogICAgbGV0IEZpcnN0UHJvY2VkdXJlVGltZTogRW5jb3VudGVyV2l0aFN1cmdlcnkuRmlyc3RBbmVzdGhlc2lhRHVyaW5nSG9zcGl0YWxpemF0aW9uICggKS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICB3aXRoIFsiTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIjogIkNhcmJvbiBEaW94aWRlIFBhcnRpYWwgUHJlc3N1cmUgSW4gQXJ0ZXJpYWwgQmxvb2QiXSBDYXJib25EaW94aWRlDQogICAgICBzdWNoIHRoYXQgQ2FyYm9uRGlveGlkZS5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIENhcmJvbkRpb3hpZGUuZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyA0OCBob3VycyBvciBsZXNzIGJlZm9yZSBzdGFydCBvZiBGaXJzdFByb2NlZHVyZVRpbWUNCiAgICAgICAgYW5kIENhcmJvbkRpb3hpZGUudmFsdWUgYXMgUXVhbnRpdHkgPiA1MCAnbW1bSGddJw0KICAgIHdpdGggWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiQXJ0ZXJpYWwgQmxvb2QgcEgiXSBCbG9vZHBIDQogICAgICBzdWNoIHRoYXQgQmxvb2RwSC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEJsb29kcEguZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyA0OCBob3VycyBvciBsZXNzIGJlZm9yZSBzdGFydCBvZiBGaXJzdFByb2NlZHVyZVRpbWUNCiAgICAgICAgYW5kIEJsb29kcEgudmFsdWUgYXMgUXVhbnRpdHkgPCA3LjMwICdbcEhdJw0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIFBhTzIgTGVzcyBUaGFuIDUwIFdpdGhpbiA0OCBIb3VycyBQcmlvciBUbyBTdGFydCBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIGxldCBGaXJzdFByb2NlZHVyZTogRW5jb3VudGVyV2l0aFN1cmdlcnkuRmlyc3RBbmVzdGhlc2lhRHVyaW5nSG9zcGl0YWxpemF0aW9uICggKQ0KICAgIHdpdGggWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiT3h5Z2VuIFBhcnRpYWwgUHJlc3N1cmUgSW4gQXJ0ZXJpYWwgQmxvb2QiXSBPeHlnZW4NCiAgICAgIHN1Y2ggdGhhdCBPeHlnZW4uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBPeHlnZW4uZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyA0OCBob3VycyBvciBsZXNzIGJlZm9yZSBzdGFydCBvZiBGaXJzdFByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICAgICAgYW5kIE94eWdlbi52YWx1ZSBhcyBRdWFudGl0eSA8IDUwICdtbVtIZ10nDQoNCmRlZmluZSAiRW5jb3VudGVyIFdpdGggUHJpbmNpcGFsIERpYWdub3NpcyBPZiBBY3V0ZSBSZXNwaXJhdG9yeSBGYWlsdXJlIjoNCiAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyIgRW5jb3VudGVyV2l0aFN1cmdlcnkNCiAgICB3aGVyZSBFbmNvdW50ZXJXaXRoU3VyZ2VyeS5oYXNQcmluY2lwYWxEaWFnbm9zaXNPZiAoICJBY3V0ZSBSZXNwaXJhdG9yeSBGYWlsdXJlIiApDQoNCmRlZmluZSAiRW5jb3VudGVyIFdpdGggRGlhZ25vc2lzIE9mIEFjdXRlIFJlc3BpcmF0b3J5IEZhaWx1cmUgUHJlc2VudCBPbiBBZG1pc3Npb24iOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIHdoZXJlIEVuY291bnRlcldpdGhTdXJnZXJ5LmlzRGlhZ25vc2lzUHJlc2VudE9uQWRtaXNzaW9uICggIkFjdXRlIFJlc3BpcmF0b3J5IEZhaWx1cmUiLCAiUHJlc2VudCBPbiBBZG1pc3Npb24gT3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBUcmFjaGVvc3RvbXkgUHJlc2VudCBPbiBBZG1pc3Npb24iOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIHdoZXJlIEVuY291bnRlcldpdGhTdXJnZXJ5LmlzRGlhZ25vc2lzUHJlc2VudE9uQWRtaXNzaW9uICggIlRyYWNoZW9zdG9teSBEaWFnbm9zZXMiLCAiUHJlc2VudCBPbiBBZG1pc3Npb24gT3IgQ2xpbmljYWxseSBVbmRldGVybWluZWQiICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBUcmFjaGVvc3RvbXkgUHJpb3IgVG8gT3IgT24gVGhlIFNhbWUgRGF5IE9mIEZpcnN0IE9SIFByb2NlZHVyZSI6DQogICJFbmNvdW50ZXIgV2l0aCBUcmFjaGVvc3RvbXkgQmVmb3JlIERheSBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiDQogICAgdW5pb24gIkVuY291bnRlciBXaXRoIFRyYWNoZW9zdG9teSBTYW1lIERheSBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiDQoNCmRlZmluZSAiRW5jb3VudGVyIFdpdGggSW50dWJhdGlvbiBPdXRzaWRlIE9mIFByb2NlZHVyYWwgQXJlYSBXaXRoaW4gMzAgRGF5cyBPZiBFbmQgT2YgRmlyc3QgT1IgUHJvY2VkdXJlIjoNCiAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyIgRW5jb3VudGVyV2l0aFN1cmdlcnkNCiAgICB3aXRoIFsiUHJvY2VkdXJlIjogIkludHViYXRpb24iXSBFbmRvdHJhY2hlYWxUdWJlSW4NCiAgICAgIHN1Y2ggdGhhdCBFbmRvdHJhY2hlYWxUdWJlSW4uc3RhdHVzID0gJ2NvbXBsZXRlZCcNCiAgICAgICAgYW5kIEVuZG90cmFjaGVhbFR1YmVJbi5zdGFydHMzMERheXNPckxlc3NBZnRlckZpcnN0QW5lc3RoZXNpYSAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCiAgICAgICAgYW5kIEVuZG90cmFjaGVhbFR1YmVJbi5zdGFydHNEdXJpbmdIb3NwaXRhbGl6YXRpb24gKCBFbmNvdW50ZXJXaXRoU3VyZ2VyeSApDQogICAgICAgIGFuZCBFbmRvdHJhY2hlYWxUdWJlSW4ucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBhZnRlciBlbmQgb2YgRW5kb3RyYWNoZWFsVHViZUluLkxhdGVzdEdlbmVyYWxBbmVzdGhlc2lhT3JNQUMgKCApLnBlcmZvcm1lZC50b0ludGVydmFsICggKQ0KICAgICAgICBhbmQgRW5jb3VudGVyV2l0aFN1cmdlcnkuaXNOb3RBdFByb2NlZHVyYWxIb3NwaXRhbExvY2F0aW9uRHVyaW5nICggRW5kb3RyYWNoZWFsVHViZUluLnBlcmZvcm1lZC50b0ludGVydmFsICggKSApDQogICAgICAgIGFuZCBub3QgKCAiSW50dWJhdGlvbiBEdXJpbmcgR2VuZXJhbCBBbmVzdGhlc2lhIEFuZCBNQUMiLmlkIGNvbnRhaW5zIEVuZG90cmFjaGVhbFR1YmVJbi5pZCApDQoNCmRlZmluZSAiRW5jb3VudGVyIFdpdGggTWVjaGFuaWNhbCBWZW50aWxhdGlvbiBPdXRzaWRlIE9mIFByb2NlZHVyYWwgQXJlYSBXaXRoaW4gMzAgRGF5cyBPZiBFbmQgT2YgRmlyc3QgT1IgUHJvY2VkdXJlIEFuZCBQcmVjZWRlZCBCeSBOb24gSW52YXNpdmUgT3h5Z2VuIFRoZXJhcHkiOg0KICBmcm9tDQogICAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyIgRW5jb3VudGVyV2l0aFN1cmdlcnksDQogICAgWyJQcm9jZWR1cmUiOiAiTWVjaGFuaWNhbCBWZW50aWxhdGlvbiJdIFZlbnRpbGF0aW9uLA0KICAgICJOb25pbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSIgT3h5Z2VuU3VwcG9ydA0KICAgIGxldCBWZW50aWxhdGlvbkludGVydmFsOiBWZW50aWxhdGlvbi5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICksDQogICAgTGF0ZXN0QW5lc3RoZXNpYUludGVydmFsOiBWZW50aWxhdGlvbi5MYXRlc3RHZW5lcmFsQW5lc3RoZXNpYU9yTUFDICggKS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICB3aGVyZSBWZW50aWxhdGlvbi5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgYW5kIFZlbnRpbGF0aW9uLnN0YXJ0czMwRGF5c09yTGVzc0FmdGVyRmlyc3RBbmVzdGhlc2lhICggRW5jb3VudGVyV2l0aFN1cmdlcnkgKQ0KICAgICAgYW5kIFZlbnRpbGF0aW9uLnN0YXJ0c0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCiAgICAgIGFuZCBWZW50aWxhdGlvbkludGVydmFsIHN0YXJ0cyBhZnRlciBlbmQgb2YgTGF0ZXN0QW5lc3RoZXNpYUludGVydmFsDQogICAgICBhbmQgT3h5Z2VuU3VwcG9ydC5pbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBJbnRlcnZhbFtlbmQgb2YgTGF0ZXN0QW5lc3RoZXNpYUludGVydmFsLCBzdGFydCBvZiBWZW50aWxhdGlvbkludGVydmFsXQ0KICAgICAgYW5kIEVuY291bnRlcldpdGhTdXJnZXJ5LmlzTm90QXRQcm9jZWR1cmFsSG9zcGl0YWxMb2NhdGlvbkR1cmluZyAoIFZlbnRpbGF0aW9uSW50ZXJ2YWwgKQ0KICAgIHJldHVybiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KDQpkZWZpbmUgIkVuY291bnRlciBXaXRoIEV4dHViYXRpb24gT3V0c2lkZSBPZiBQcm9jZWR1cmFsIEFyZWEgV2l0aGluIDMwIERheXMgT2YgRW5kIE9mIEZpcnN0IE9SIFByb2NlZHVyZSBNb3JlIFRoYW4gNDggSG91cnMgQWZ0ZXIgRW5kIE9mIEFuZXN0aGVzaWEiOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIHdpdGggWyJQcm9jZWR1cmUiOiAiUmVtb3ZhbCBvZiBlbmRvdHJhY2hlYWwgdHViZSAocHJvY2VkdXJlKSJdIEV4dHViYXRpb24NCiAgICAgIHN1Y2ggdGhhdCBFeHR1YmF0aW9uLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICAgIGFuZCBFeHR1YmF0aW9uLmlzRHVyaW5nSG9zcGl0YWxpemF0aW9uICggRW5jb3VudGVyV2l0aFN1cmdlcnkgKQ0KICAgICAgICBhbmQgRXh0dWJhdGlvbi5zdGFydHMzMERheXNPckxlc3NBZnRlckZpcnN0QW5lc3RoZXNpYSAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCiAgICAgICAgYW5kIEV4dHViYXRpb24ucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBtb3JlIHRoYW4gNDggaG91cnMgYWZ0ZXIgZW5kIG9mIEV4dHViYXRpb24uTGF0ZXN0R2VuZXJhbEFuZXN0aGVzaWFPck1BQyAoICkucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgICAgIGFuZCBub3QgKCAoICJFeHR1YmF0aW9uIFdpdGggUHJlY2VkaW5nIE5vbmludmFzaXZlIE94eWdlbiIuaWQgY29udGFpbnMgRXh0dWJhdGlvbi5pZCApDQogICAgICAgICAgICBhbmQgbm90ICggIkV4dHViYXRpb24gRHVyaW5nIEdlbmVyYWwgQW5lc3RoZXNpYSIuaWQgY29udGFpbnMgRXh0dWJhdGlvbi5pZCApDQogICAgICAgICkNCiAgICAgICAgYW5kIEVuY291bnRlcldpdGhTdXJnZXJ5LmlzTm90QXRQcm9jZWR1cmFsSG9zcGl0YWxMb2NhdGlvbiAoICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBNZWNoYW5pY2FsIFZlbnRpbGF0aW9uIFdpdGhpbiAzMCBEYXlzIE9mIEVuZCBPZiBGaXJzdCBPUiBQcm9jZWR1cmUgQW5kIEJldHdlZW4gNDggQW5kIDcyIEhvdXJzIEFmdGVyIEVuZCBPZiBPUiBQcm9jZWR1cmUgQW5kIE5vdCBQcmVjZWRlZCBCeSBOb24gSW52YXNpdmUgT3h5Z2VuIFRoZXJhcHkgT3IgQW5lc3RoZXNpYSI6DQogICJFbGVjdGl2ZSBJbnBhdGllbnQgRW5jb3VudGVyIFdpdGggT1IgUHJvY2VkdXJlIFdpdGhpbiAzIERheXMiIEVuY291bnRlcldpdGhTdXJnZXJ5DQogICAgd2l0aCBbIlByb2NlZHVyZSI6ICJNZWNoYW5pY2FsIFZlbnRpbGF0aW9uIl0gVmVudGlsYXRpb24NCiAgICAgIHN1Y2ggdGhhdCBWZW50aWxhdGlvbi5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgICBhbmQgVmVudGlsYXRpb24ucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyA0OCBob3VycyBvciBtb3JlIGFmdGVyIGVuZCBvZiBWZW50aWxhdGlvbi5MYXRlc3RHZW5lcmFsQW5lc3RoZXNpYU9yTUFDICggKS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICAgICAgYW5kIFZlbnRpbGF0aW9uLnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgNzIgaG91cnMgb3IgbGVzcyBhZnRlciBlbmQgb2YgVmVudGlsYXRpb24uTGF0ZXN0R2VuZXJhbEFuZXN0aGVzaWFPck1BQyAoICkucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgICAgIGFuZCBWZW50aWxhdGlvbi5zdGFydHMzMERheXNPckxlc3NBZnRlckZpcnN0QW5lc3RoZXNpYSAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCiAgICAgICAgYW5kIFZlbnRpbGF0aW9uLnN0YXJ0c0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCiAgICAgICAgYW5kIG5vdCAoICJFbmNvdW50ZXIgV2l0aCBNZWNoYW5pY2FsIFZlbnRpbGF0aW9uIE91dHNpZGUgT2YgUHJvY2VkdXJhbCBBcmVhIFdpdGhpbiAzMCBEYXlzIE9mIEVuZCBPZiBGaXJzdCBPUiBQcm9jZWR1cmUgQW5kIFByZWNlZGVkIEJ5IE5vbiBJbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSIuaWQgY29udGFpbnMgRW5jb3VudGVyV2l0aFN1cmdlcnkuaWQgKQ0KICAgICAgICBhbmQgRW5jb3VudGVyV2l0aFN1cmdlcnkuaXNOb3RBdFByb2NlZHVyYWxIb3NwaXRhbExvY2F0aW9uICggKQ0KDQpkZWZpbmUgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBBZ2UgMTggQW5kIE9sZGVyIFdpdGhvdXQgRUQgVmlzaXQiOg0KICBbIkVuY291bnRlciI6ICJFbGVjdGl2ZSBJbnBhdGllbnQgRW5jb3VudGVyIl0gRWxlY3RpdmVFbmNvdW50ZXINCiAgICB3aGVyZSBFbGVjdGl2ZUVuY291bnRlci5zdGF0dXMgPSAnZmluaXNoZWQnDQogICAgICBhbmQgRWxlY3RpdmVFbmNvdW50ZXIucGVyaW9kIGVuZHMgZHVyaW5nIGRheSBvZiAiTWVhc3VyZW1lbnQgUGVyaW9kIg0KICAgICAgYW5kIEVsZWN0aXZlRW5jb3VudGVyLnByaW9yaXR5IGlzIG5vdCBudWxsIGltcGxpZXMgRWxlY3RpdmVFbmNvdW50ZXIucHJpb3JpdHkgfiAiRWxlY3RpdmUgKHF1YWxpZmllciB2YWx1ZSkiDQogICAgICBhbmQgQWdlSW5ZZWFyc0F0KGRhdGUgZnJvbSBzdGFydCBvZiBFbGVjdGl2ZUVuY291bnRlci5wZXJpb2QpID49IDE4DQogICAgICBhbmQgbm90IGV4aXN0cyAoIFsiRW5jb3VudGVyIjogIkVtZXJnZW5jeSBEZXBhcnRtZW50IFZpc2l0Il0gRURWaXNpdA0KICAgICAgICAgIHdoZXJlIEVEVmlzaXQuc3RhdHVzID0gJ2ZpbmlzaGVkJw0KICAgICAgICAgICAgYW5kIEVEVmlzaXQucGVyaW9kIGVuZHMgMSBob3VyIG9yIGxlc3MgYmVmb3JlIG9yIG9uIHN0YXJ0IG9mIEVsZWN0aXZlRW5jb3VudGVyLnBlcmlvZA0KICAgICAgKQ0KDQpkZWZpbmUgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBBZ2UgQW5kIFdpdGhvdXQgT2JzdGV0cmljYWwgQ29uZGl0aW9uIjoNCiAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBBZ2UgMTggQW5kIE9sZGVyIFdpdGhvdXQgRUQgVmlzaXQiIEVsZWN0aXZlRW5jb3VudGVyDQogICAgd2hlcmUgbm90ICggRWxlY3RpdmVFbmNvdW50ZXIucmVhc29uQ29kZSBpbiAiT2JzdGV0cmljYWwgT3IgUHJlZ25hbmN5IFJlbGF0ZWQgQ29uZGl0aW9ucyINCiAgICAgICAgb3IgRWxlY3RpdmVFbmNvdW50ZXIuZW5jb3VudGVyUmVhc29uICggKS5jb2RlIGluICJPYnN0ZXRyaWNhbCBPciBQcmVnbmFuY3kgUmVsYXRlZCBDb25kaXRpb25zIg0KICAgICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBUcmFjaGVvc3RvbXkgQmVmb3JlIERheSBPZiBGaXJzdCBPUiBQcm9jZWR1cmUiOg0KICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeQ0KICAgIGxldCBGaXJzdFByb2NlZHVyZTogRW5jb3VudGVyV2l0aFN1cmdlcnkuRmlyc3RBbmVzdGhlc2lhRHVyaW5nSG9zcGl0YWxpemF0aW9uICggKQ0KICAgIHdpdGggWyJQcm9jZWR1cmUiOiAiVHJhY2hlb3N0b215IFByb2NlZHVyZXMiXSBUcmFjaGVvc3RvbXlTdXJnZXJ5DQogICAgICBzdWNoIHRoYXQgVHJhY2hlb3N0b215U3VyZ2VyeS5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgICBhbmQgVHJhY2hlb3N0b215U3VyZ2VyeS5zdGFydHNEdXJpbmdIb3NwaXRhbGl6YXRpb24gKCBFbmNvdW50ZXJXaXRoU3VyZ2VyeSApDQogICAgICAgIGFuZCBUcmFjaGVvc3RvbXlTdXJnZXJ5LnBlcmZvcm1lZC50b0ludGVydmFsICggKSBzdGFydHMgYmVmb3JlIGRheSBvZiBGaXJzdFByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCg0KZGVmaW5lICJFbmNvdW50ZXIgV2l0aCBUcmFjaGVvc3RvbXkgU2FtZSBEYXkgT2YgRmlyc3QgT1IgUHJvY2VkdXJlIjoNCiAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyIgRW5jb3VudGVyV2l0aFN1cmdlcnkNCiAgICBsZXQgRmlyc3RQcm9jZWR1cmU6IEVuY291bnRlcldpdGhTdXJnZXJ5LkZpcnN0QW5lc3RoZXNpYUR1cmluZ0hvc3BpdGFsaXphdGlvbiAoICkNCiAgICB3aXRoIFsiUHJvY2VkdXJlIjogIlRyYWNoZW9zdG9teSBQcm9jZWR1cmVzIl0gVHJhY2hlb3N0b215U3VyZ2VyeQ0KICAgICAgc3VjaCB0aGF0IFRyYWNoZW9zdG9teVN1cmdlcnkuc3RhdHVzID0gJ2NvbXBsZXRlZCcNCiAgICAgICAgYW5kIFRyYWNoZW9zdG9teVN1cmdlcnkuc3RhcnRzRHVyaW5nSG9zcGl0YWxpemF0aW9uICggRW5jb3VudGVyV2l0aFN1cmdlcnkgKQ0KICAgICAgICBhbmQgVHJhY2hlb3N0b215U3VyZ2VyeS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBkYXkgb2YgRmlyc3RQcm9jZWR1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQoNCmRlZmluZSAiR2VuZXJhbCBBbmVzdGhlc2lhIEFuZCBNQUMiOg0KICBbIlByb2NlZHVyZSI6ICJBbmVzdGhlc2lhIFJlcXVpcmluZyBNb25pdG9yZWQgQ2FyZSJdIE1BQw0KICAgIHVuaW9uIFsiUHJvY2VkdXJlIjogIkdlbmVyYWwgQW5kIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0NCg0KZGVmaW5lICJOb25pbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSI6DQogIFsiUHJvY2VkdXJlIjogIk5vbiBJbnZhc2l2ZSBPeHlnZW4gVGhlcmFweSBCeSBOYXNhbCBDYW5udWxhIE9yIE1hc2siXSBQDQogICAgdW5pb24gWyJMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24iOiAiTm9uIEludmFzaXZlIE94eWdlbiBUaGVyYXB5Il0gTw0KDQpkZWZpbmUgIkludHViYXRpb24gRHVyaW5nIEdlbmVyYWwgQW5lc3RoZXNpYSBBbmQgTUFDIjoNCiAgZnJvbQ0KICAgICJFbGVjdGl2ZSBJbnBhdGllbnQgRW5jb3VudGVyIFdpdGggT1IgUHJvY2VkdXJlIFdpdGhpbiAzIERheXMiIEVuY291bnRlcldpdGhTdXJnZXJ5LA0KICAgIFsiUHJvY2VkdXJlIjogIkludHViYXRpb24iXSBQcm9jZWR1cmFsSW50dWJhdGlvbiwNCiAgICAiR2VuZXJhbCBBbmVzdGhlc2lhIEFuZCBNQUMiIEFuZXN0aGVzaWENCiAgICB3aGVyZSBQcm9jZWR1cmFsSW50dWJhdGlvbi5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgYW5kIFByb2NlZHVyYWxJbnR1YmF0aW9uLnN0YXJ0c0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIEVuY291bnRlcldpdGhTdXJnZXJ5ICkNCiAgICAgIGFuZCBQcm9jZWR1cmFsSW50dWJhdGlvbi5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBBbmVzdGhlc2lhLnBlcmZvcm1lZC50b0ludGVydmFsICggKQ0KICAgIHJldHVybiBQcm9jZWR1cmFsSW50dWJhdGlvbg0KDQpkZWZpbmUgIkV4dHViYXRpb24gRHVyaW5nIEdlbmVyYWwgQW5lc3RoZXNpYSI6DQogIGZyb20NCiAgICAiRWxlY3RpdmUgSW5wYXRpZW50IEVuY291bnRlciBXaXRoIE9SIFByb2NlZHVyZSBXaXRoaW4gMyBEYXlzIiBFbmNvdW50ZXJXaXRoU3VyZ2VyeSwNCiAgICBbIlByb2NlZHVyZSI6ICJSZW1vdmFsIG9mIGVuZG90cmFjaGVhbCB0dWJlIChwcm9jZWR1cmUpIl0gRXh0dWJhdGlvbiwNCiAgICAiR2VuZXJhbCBBbmVzdGhlc2lhIEFuZCBNQUMiIEFuZXN0aGVzaWENCiAgICB3aGVyZSBFeHR1YmF0aW9uLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICBhbmQgRXh0dWJhdGlvbi5zdGFydHNEdXJpbmdIb3NwaXRhbGl6YXRpb24gKCBFbmNvdW50ZXJXaXRoU3VyZ2VyeSApDQogICAgICBhbmQgRXh0dWJhdGlvbi5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBBbmVzdGhlc2lhLnBlcmZvcm1lZC50b0ludGVydmFsICggKQ0KICAgIHJldHVybiBFeHR1YmF0aW9uDQoNCmRlZmluZSAiRXh0dWJhdGlvbiBXaXRoIFByZWNlZGluZyBOb25pbnZhc2l2ZSBPeHlnZW4iOg0KICBmcm9tDQogICAgIkVsZWN0aXZlIElucGF0aWVudCBFbmNvdW50ZXIgV2l0aCBPUiBQcm9jZWR1cmUgV2l0aGluIDMgRGF5cyIgRW5jb3VudGVyV2l0aFN1cmdlcnksDQogICAgWyJQcm9jZWR1cmUiOiAiUmVtb3ZhbCBvZiBlbmRvdHJhY2hlYWwgdHViZSAocHJvY2VkdXJlKSJdIEV4dHViYXRpb24sDQogICAgIk5vbmludmFzaXZlIE94eWdlbiBUaGVyYXB5IiBPeHlnZW5TdXBwb3J0DQogICAgbGV0IExhdGVzdEFuZXN0aGVzaWE6IEV4dHViYXRpb24uTGF0ZXN0R2VuZXJhbEFuZXN0aGVzaWFPck1BQyAoICkNCiAgICB3aGVyZSBFeHR1YmF0aW9uLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICBhbmQgRXh0dWJhdGlvbi5zdGFydHNEdXJpbmdIb3NwaXRhbGl6YXRpb24gKCBFbmNvdW50ZXJXaXRoU3VyZ2VyeSApDQogICAgICBhbmQgRXh0dWJhdGlvbi5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgc3RhcnRzIGFmdGVyIExhdGVzdEFuZXN0aGVzaWEucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgICBhbmQgT3h5Z2VuU3VwcG9ydC5pbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBJbnRlcnZhbFtlbmQgb2YgTGF0ZXN0QW5lc3RoZXNpYS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICksIHN0YXJ0IG9mIEV4dHViYXRpb24ucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApXQ0KICAgIHJldHVybiBFeHR1YmF0aW9uDQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBBbGwgRW5jb3VudGVyIERpYWdub3NlcyBXaXRoIFBPQSBJbmRpY2F0aW9uIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiIgUXVhbGlmeWluZ0VuY291bnRlcg0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwNCiAgICAgIGRpYWdub3NlczogUXVhbGlmeWluZ0VuY291bnRlci5jbGFpbURpYWdub3Nlc1dpdGhQT0EgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgQVNBIFBoeXNpY2FsIFN0YXR1cyBDbGFzcyI6DQogIFsiT2JzZXJ2YXRpb25TY3JlZW5pbmdBc3Nlc3NtZW50IjogIkFtZXJpY2FuIHNvY2lldHkgb2YgYW5lc3RoZXNpb2xvZ2lzdHMgbW9yYmlkaXR5IHN0YXRlIl0gQVNBY2xhc3MNCiAgICB3aXRoICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICAgIHN1Y2ggdGhhdCBBU0FjbGFzcy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEFTQWNsYXNzLnN0YXJ0c0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIFF1YWxpZnlpbmdFbmNvdW50ZXIgKQ0KICAgICAgICBhbmQgQVNBY2xhc3MudmFsdWUgYXMgQ29uY2VwdCBpbiAiQVNBIFBoeXNpY2FsIFN0YXR1cyBDbGFzcyINCiAgICByZXR1cm4gQVNBY2xhc3MudmFsdWUgYXMgQ29uY2VwdA0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgQm9keSBNYXNzIEluZGV4IChCTUkpIjoNCiAgWyJVU0NvcmVCTUlQcm9maWxlIjogIkJvZHkgbWFzcyBpbmRleCAoQk1JKSBbUmF0aW9dIl0gQk1JDQogICAgd2l0aCAiSW5pdGlhbCBQb3B1bGF0aW9uIiBJbnBhdGllbnRFbmNvdW50ZXINCiAgICAgIHN1Y2ggdGhhdCBCTUkuZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBkdXJpbmcgQ1FNQ29tbW9uLiJIb3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb24iICggSW5wYXRpZW50RW5jb3VudGVyICkNCiAgICAgICAgYW5kIEJNSS52YWx1ZSBpcyBub3QgbnVsbA0KICAgICAgICBhbmQgQk1JLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgIHJldHVybiBCTUkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEVuY291bnRlciBQcm9jZWR1cmVzIjoNCiAgZnJvbQ0KICAgIFsiUHJvY2VkdXJlIl0gVGhlUHJvY2VkdXJlLA0KICAgICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICB3aGVyZSBUaGVQcm9jZWR1cmUuc3RhdHVzID0gJ2NvbXBsZXRlZCcNCiAgICAgIGFuZCBUaGVQcm9jZWR1cmUuc3RhcnRzRHVyaW5nSG9zcGl0YWxpemF0aW9uICggUXVhbGlmeWluZ0VuY291bnRlciApDQogICAgcmV0dXJuIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgcHJvY2VkdXJlSWQ6IFRoZVByb2NlZHVyZS5pZCwNCiAgICAgIHByb2NlZHVyZUNvZGU6IFRoZVByb2NlZHVyZS5jb2RlLA0KICAgICAgcHJvY2VkdXJlUmFuazogVGhlUHJvY2VkdXJlLnJhbmsgKCBRdWFsaWZ5aW5nRW5jb3VudGVyICksDQogICAgICBwcm9jZWR1cmVUaW1lOiBUaGVQcm9jZWR1cmUucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgQWxidW1pbiBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RBbGJ1bWluOiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0QWxidW1pbiAoICkNCiAgICB9DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBGaXJzdCBBcnRlcmlhbCBwSCBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RBcnRlcmlhbHBIOiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0QXJ0ZXJpYWxwSCAoICkNCiAgICB9DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBGaXJzdCBBU1QgSW4gRW5jb3VudGVyIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiIgUXVhbGlmeWluZ0VuY291bnRlcg0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwNCiAgICAgIGZpcnN0QVNUOiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0QVNUICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IEJpY2FyYm9uYXRlIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdEJpY2FyYm9uYXRlOiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0QmljYXJib25hdGUgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgQmlsaXJ1YmluIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdEJpbGlydWJpbjogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdEJpbGlydWJpbiAoICkNCiAgICB9DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBGaXJzdCBCbG9vZCBVcmVhIE5pdHJvZ2VuIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdEJVTjogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdEJsb29kVXJlYU5pdHJvZ2VuICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IEJNSSI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdEJNSTogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdEJNSSAoICkNCiAgICB9DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBGaXJzdCBCb2R5IFRlbXBlcmF0dXJlIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdEJvZHlUZW1wOiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0Qm9keVRlbXBlcmF0dXJlICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IENhcmJvbiBEaW94aWRlIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdENhcmJvbkRpb3hpZGU6IFF1YWxpZnlpbmdFbmNvdW50ZXIuRmlyc3RDYXJib25EaW94aWRlICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IENyZWF0aW5pbmUgSW4gRW5jb3VudGVyIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiIgUXVhbGlmeWluZ0VuY291bnRlcg0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwNCiAgICAgIGZpcnN0Q3JlYXRpbmluZTogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdENyZWF0aW5pbmUgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgSGVhcnQgUmF0ZSBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RIZWFydFJhdGU6IFF1YWxpZnlpbmdFbmNvdW50ZXIuRmlyc3RIZWFydFJhdGUgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgSGVtYXRvY3JpdCBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RIZW1hdG9jcml0OiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0SGVtYXRvY3JpdCAoICkNCiAgICB9DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBGaXJzdCBIZW1vZ2xvYmluIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdEhlbW9nbG9iaW46IFF1YWxpZnlpbmdFbmNvdW50ZXIuRmlyc3RIZW1vZ2xvYmluICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IExldWtvY3l0ZSBDb3VudCBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RMZXVrb2N5dGU6IFF1YWxpZnlpbmdFbmNvdW50ZXIuRmlyc3RMZXVrb2N5dGUgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgT3h5Z2VuIEluIEVuY291bnRlciI6DQogICJJbml0aWFsIFBvcHVsYXRpb24iIFF1YWxpZnlpbmdFbmNvdW50ZXINCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBmaXJzdE94eWdlbjogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdE94eWdlbiAoICkNCiAgICB9DQoNCmRlZmluZSAiUmlzayBWYXJpYWJsZSBGaXJzdCBQbGF0ZWxldCBDb3VudCBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RQbGF0ZWxldDogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdFBsYXRlbGV0ICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IFJlc3BpcmF0b3J5IFJhdGUgSW4gRW5jb3VudGVyIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiIgUXVhbGlmeWluZ0VuY291bnRlcg0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwNCiAgICAgIGZpcnN0UmVzcGlyYXRvcnlSYXRlOiBRdWFsaWZ5aW5nRW5jb3VudGVyLkZpcnN0UmVzcGlyYXRvcnlSYXRlICggKQ0KICAgIH0NCg0KZGVmaW5lICJSaXNrIFZhcmlhYmxlIEZpcnN0IFNvZGl1bSBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RTb2RpdW06IFF1YWxpZnlpbmdFbmNvdW50ZXIuRmlyc3RTb2RpdW0gKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgU3lzdG9saWMgQmxvb2QgUHJlc3N1cmUgSW4gRW5jb3VudGVyIjoNCiAgIkluaXRpYWwgUG9wdWxhdGlvbiIgUXVhbGlmeWluZ0VuY291bnRlcg0KICAgIHJldHVybiBUdXBsZSB7DQogICAgICBlbmNvdW50ZXJJZDogUXVhbGlmeWluZ0VuY291bnRlci5pZCwNCiAgICAgIGZpcnN0U3lzdG9saWM6IFF1YWxpZnlpbmdFbmNvdW50ZXIuRmlyc3RTeXN0b2xpY0Jsb29kUHJlc3N1cmUgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgRmlyc3QgV2hpdGUgQmxvb2QgQ2VsbCBDb3VudCBJbiBFbmNvdW50ZXIiOg0KICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgcmV0dXJuIFR1cGxlIHsNCiAgICAgIGVuY291bnRlcklkOiBRdWFsaWZ5aW5nRW5jb3VudGVyLmlkLA0KICAgICAgZmlyc3RXQkNjb3VudDogUXVhbGlmeWluZ0VuY291bnRlci5GaXJzdFdoaXRlQmxvb2RDZWxsQ291bnQgKCApDQogICAgfQ0KDQpkZWZpbmUgIlJpc2sgVmFyaWFibGUgUHJpbmNpcGFsIFByb2NlZHVyZSI6DQogIGZyb20NCiAgICBbIlByb2NlZHVyZSJdIFRoZVByb2NlZHVyZSwNCiAgICAiSW5pdGlhbCBQb3B1bGF0aW9uIiBRdWFsaWZ5aW5nRW5jb3VudGVyDQogICAgd2hlcmUgVGhlUHJvY2VkdXJlLnN0YXR1cyA9ICdjb21wbGV0ZWQnDQogICAgICBhbmQgVGhlUHJvY2VkdXJlLnJhbmsgKCBRdWFsaWZ5aW5nRW5jb3VudGVyICkgaXMgbm90IG51bGwgLy89IDENCiAgICAgIA0KICAgICAgYW5kIFRoZVByb2NlZHVyZS5zdGFydHNEdXJpbmdIb3NwaXRhbGl6YXRpb24gKCBRdWFsaWZ5aW5nRW5jb3VudGVyICkNCiAgICByZXR1cm4gVHVwbGUgew0KICAgICAgZW5jb3VudGVySWQ6IFF1YWxpZnlpbmdFbmNvdW50ZXIuaWQsDQogICAgICBwcm9jZWR1cmVJZDogVGhlUHJvY2VkdXJlLmlkLA0KICAgICAgcHJvY2VkdXJlQ29kZTogVGhlUHJvY2VkdXJlLmNvZGUsDQogICAgICBwcm9jZWR1cmVSYW5rOiBUaGVQcm9jZWR1cmUucmFuayAoIFF1YWxpZnlpbmdFbmNvdW50ZXIgKSwNCiAgICAgIHByb2NlZHVyZVRpbWU6IFRoZVByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkNCiAgICB9DQoNCmRlZmluZSAiU0RFIEV0aG5pY2l0eSI6DQogIFNERS4iU0RFIEV0aG5pY2l0eSINCg0KZGVmaW5lICJTREUgUGF5ZXIiOg0KICBTREUuIlNERSBQYXllciINCg0KZGVmaW5lICJTREUgUmFjZSI6DQogIFNERS4iU0RFIFJhY2UiDQoNCmRlZmluZSAiU0RFIFNleCI6DQogIFNERS4iU0RFIFNleCINCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdEFsYnVtaW4oUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uOiAiQWxidW1pbiBMYWIgVGVzdCJdIEZpcnN0QWxidW1pblRlc3QNCiAgICAgIHdoZXJlIEZpcnN0QWxidW1pblRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBGaXJzdEFsYnVtaW5UZXN0LmlzRWFybGllc3REdXJpbmdIb3NwaXRhbGl6YXRpb24oUXVhbGlmeWluZ0VuY291bnRlcikNCiAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgKS52YWx1ZSBhcyBRdWFudGl0eQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIEZpcnN0QXJ0ZXJpYWxwSChRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJBcnRlcmlhbCBCbG9vZCBwSCJdIEZpcnN0QXJ0ZXJpYWxwSFRlc3QNCiAgICAgIHdoZXJlIEZpcnN0QXJ0ZXJpYWxwSFRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBGaXJzdEFydGVyaWFscEhUZXN0LmlzRWFybGllc3REdXJpbmdIb3NwaXRhbGl6YXRpb24oUXVhbGlmeWluZ0VuY291bnRlcikNCiAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgKS52YWx1ZSBhcyBRdWFudGl0eQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIEZpcnN0QVNUKFF1YWxpZnlpbmdFbmNvdW50ZXIgRW5jb3VudGVyKToNCiAgRmlyc3QoW0xhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbjogIkFzcGFydGF0ZSB0cmFuc2FtaW5hc2UgTGFiIFRlc3QiXSBGaXJzdEFTVFRlc3QNCiAgICAgIHdoZXJlIEZpcnN0QVNUVGVzdC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0QVNUVGVzdC5pc0VhcmxpZXN0RHVyaW5nSG9zcGl0YWxpemF0aW9uKFF1YWxpZnlpbmdFbmNvdW50ZXIpDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdEJpY2FyYm9uYXRlKFF1YWxpZnlpbmdFbmNvdW50ZXIgRW5jb3VudGVyKToNCiAgRmlyc3QoW0xhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbjogIkJpY2FyYm9uYXRlIExhYiBUZXN0Il0gRmlyc3RCaWNhcmJvbmF0ZVRlc3QNCiAgICAgIHdoZXJlIEZpcnN0QmljYXJib25hdGVUZXN0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgRmlyc3RCaWNhcmJvbmF0ZVRlc3QuaXNFYXJsaWVzdER1cmluZ0hvc3BpdGFsaXphdGlvbihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RCaWxpcnViaW4oUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uOiAiQmlsaXJ1YmluIExhYiBUZXN0Il0gRmlyc3RCaWxpcnViaW5UZXN0DQogICAgICB3aGVyZSBGaXJzdEJpbGlydWJpblRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBGaXJzdEJpbGlydWJpblRlc3QuaXNFYXJsaWVzdER1cmluZ0hvc3BpdGFsaXphdGlvbihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RCTUkoUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbVVNDb3JlQk1JUHJvZmlsZTogIkJvZHkgbWFzcyBpbmRleCAoQk1JKSBbUmF0aW9dIl0gRmlyc3RCb2R5TWFzcw0KICAgICAgd2hlcmUgRmlyc3RCb2R5TWFzcy5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0Qm9keU1hc3MuZWZmZWN0aXZlLnRvSW50ZXJ2YWwoKSBzdGFydHMgZHVyaW5nIENRTUNvbW1vbi4iSG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uIihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgICBhbmQgRmlyc3RCb2R5TWFzcy52YWx1ZSBpcyBub3QgbnVsbA0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RCb2R5VGVtcGVyYXR1cmUoUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbIlVTQ29yZUJvZHlUZW1wZXJhdHVyZVByb2ZpbGUiOiAiQm9keSB0ZW1wZXJhdHVyZSJdIEZpcnN0VGVtcGVyYXR1cmUNCiAgICAgIHdoZXJlIEZpcnN0VGVtcGVyYXR1cmUuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBGaXJzdFRlbXBlcmF0dXJlLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBRdWFsaWZ5aW5nRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbigpDQogICAgICAgIGFuZCBGaXJzdFRlbXBlcmF0dXJlLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdENhcmJvbkRpb3hpZGUoUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uOiAiQ2FyYm9uIERpb3hpZGUgUGFydGlhbCBQcmVzc3VyZSBJbiBBcnRlcmlhbCBCbG9vZCJdIEZpcnN0Q2FyYm9uRGlveGlkZVRlc3QNCiAgICAgIHdoZXJlIEZpcnN0Q2FyYm9uRGlveGlkZVRlc3Quc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBGaXJzdENhcmJvbkRpb3hpZGVUZXN0LmlzRWFybGllc3REdXJpbmdIb3NwaXRhbGl6YXRpb24oUXVhbGlmeWluZ0VuY291bnRlcikNCiAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgKS52YWx1ZSBhcyBRdWFudGl0eQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIEZpcnN0Q3JlYXRpbmluZShRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJDcmVhdGluaW5lIExhYiBUZXN0Il0gRmlyc3RDcmVhdGluaW5lVGVzdA0KICAgICAgd2hlcmUgRmlyc3RDcmVhdGluaW5lVGVzdC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0Q3JlYXRpbmluZVRlc3QuaXNFYXJsaWVzdER1cmluZ0hvc3BpdGFsaXphdGlvbihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RIZWFydFJhdGUoUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbIlVTQ29yZUhlYXJ0UmF0ZVByb2ZpbGUiOiAiSGVhcnQgcmF0ZSJdIEZpcnN0SGVhcnRCZWF0cw0KICAgICAgd2hlcmUgRmlyc3RIZWFydEJlYXRzLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgRmlyc3RIZWFydEJlYXRzLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBRdWFsaWZ5aW5nRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbigpDQogICAgICAgIGFuZCBGaXJzdEhlYXJ0QmVhdHMudmFsdWUgaXMgbm90IG51bGwNCiAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgKS52YWx1ZSBhcyBRdWFudGl0eQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIEZpcnN0SGVtYXRvY3JpdChRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJIZW1hdG9jcml0IExhYiBUZXN0Il0gRmlyc3RIZW1hdG9jcml0VGVzdA0KICAgICAgd2hlcmUgRmlyc3RIZW1hdG9jcml0VGVzdC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0SGVtYXRvY3JpdFRlc3QuaXNFYXJsaWVzdER1cmluZ0hvc3BpdGFsaXphdGlvbihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RIZW1vZ2xvYmluKFF1YWxpZnlpbmdFbmNvdW50ZXIgRW5jb3VudGVyKToNCiAgRmlyc3QoW0xhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbjogIkhlbW9nbG9iaW4gTGFiIFRlc3QiXSBGaXJzdEhlbW9nbG9iaW5UZXN0DQogICAgICB3aGVyZSBGaXJzdEhlbW9nbG9iaW5UZXN0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgRmlyc3RIZW1vZ2xvYmluVGVzdC5pc0VhcmxpZXN0RHVyaW5nSG9zcGl0YWxpemF0aW9uKFF1YWxpZnlpbmdFbmNvdW50ZXIpDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdExldWtvY3l0ZShRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJMZXVrb2N5dGUgQ291bnQgTGFiIFRlc3QiXSBGaXJzdExldWtvY3l0ZUNvdW50DQogICAgICB3aGVyZSBGaXJzdExldWtvY3l0ZUNvdW50LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgRmlyc3RMZXVrb2N5dGVDb3VudC5pc0VhcmxpZXN0RHVyaW5nSG9zcGl0YWxpemF0aW9uKFF1YWxpZnlpbmdFbmNvdW50ZXIpDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdE94eWdlbihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJPeHlnZW4gUGFydGlhbCBQcmVzc3VyZSBJbiBBcnRlcmlhbCBCbG9vZCJdIEZpcnN0T3h5Z2VuVGVzdA0KICAgICAgd2hlcmUgRmlyc3RPeHlnZW5UZXN0LnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgRmlyc3RPeHlnZW5UZXN0LmlzRWFybGllc3REdXJpbmdIb3NwaXRhbGl6YXRpb24oUXVhbGlmeWluZ0VuY291bnRlcikNCiAgICAgIHNvcnQgYnkgZWZmZWN0aXZlLmVhcmxpZXN0KCkNCiAgKS52YWx1ZSBhcyBRdWFudGl0eQ0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIEZpcnN0UGxhdGVsZXQoUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdChbTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uOiAiUGxhdGVsZXQgQ291bnQgTGFiIFRlc3QiXSBGaXJzdFBsYXRlbGV0Q291bnQNCiAgICAgIHdoZXJlIEZpcnN0UGxhdGVsZXRDb3VudC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0UGxhdGVsZXRDb3VudC5pc0VhcmxpZXN0RHVyaW5nSG9zcGl0YWxpemF0aW9uKFF1YWxpZnlpbmdFbmNvdW50ZXIpDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdFJlc3BpcmF0b3J5UmF0ZShRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtVU0NvcmVSZXNwaXJhdG9yeVJhdGVQcm9maWxlOiAiUmVzcGlyYXRvcnkgcmF0ZSJdIEZpcnN0UmVzcGlyYXRpb24NCiAgICAgIHdoZXJlIEZpcnN0UmVzcGlyYXRpb24uc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBGaXJzdFJlc3BpcmF0aW9uLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBRdWFsaWZ5aW5nRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbigpDQogICAgICAgIGFuZCBGaXJzdFJlc3BpcmF0aW9uLnZhbHVlIGlzIG5vdCBudWxsDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBGaXJzdFNvZGl1bShRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJTb2RpdW0gTGFiIFRlc3QiXSBGaXJzdFNvZGl1bVRlc3QNCiAgICAgIHdoZXJlIEZpcnN0U29kaXVtVGVzdC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0U29kaXVtVGVzdC5pc0VhcmxpZXN0RHVyaW5nSG9zcGl0YWxpemF0aW9uKFF1YWxpZnlpbmdFbmNvdW50ZXIpDQogICAgICBzb3J0IGJ5IGVmZmVjdGl2ZS5lYXJsaWVzdCgpDQogICkudmFsdWUgYXMgUXVhbnRpdHkNCg0KZGVmaW5lICJRdWFsaWZ5aW5nIFN5c3RvbGljIEJsb29kIFByZXNzdXJlIFJlYWRpbmciOg0KICBbIlVTQ29yZUJsb29kUHJlc3N1cmVQcm9maWxlIl0gQmxvb2RQcmVzc3VyZQ0KICAgIHdoZXJlIEJsb29kUHJlc3N1cmUuZWZmZWN0aXZlLmVhcmxpZXN0ICggKSBkdXJpbmcgZGF5IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gIkZpcnN0U3lzdG9saWNCbG9vZFByZXNzdXJlIihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KCJRdWFsaWZ5aW5nIFN5c3RvbGljIEJsb29kIFByZXNzdXJlIFJlYWRpbmciIFNCUFJlYWRpbmcNCiAgICAgIHdoZXJlIFNCUFJlYWRpbmcuc3RhdHVzIGluIHsgJ2ZpbmFsJywgJ2FtZW5kZWQnLCAnY29ycmVjdGVkJyB9DQogICAgICAgIGFuZCBTQlBSZWFkaW5nLmVmZmVjdGl2ZS5lYXJsaWVzdCgpIGR1cmluZyBRdWFsaWZ5aW5nRW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbigpDQogICAgICByZXR1cm4gc2luZ2xldG9uIGZyb20oU0JQUmVhZGluZy5jb21wb25lbnQgU0JQQ29tcG9uZW50DQogICAgICAgICAgd2hlcmUgU0JQQ29tcG9uZW50LmNvZGUgfiAiU3lzdG9saWMgYmxvb2QgcHJlc3N1cmUiDQogICAgICAgICAgcmV0dXJuIFNCUENvbXBvbmVudC52YWx1ZSBhcyBRdWFudGl0eQ0KICAgICAgKQ0KICApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RXaGl0ZUJsb29kQ2VsbENvdW50KFF1YWxpZnlpbmdFbmNvdW50ZXIgRW5jb3VudGVyKToNCiAgRmlyc3QoW0xhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbjogIldoaXRlIEJsb29kIENlbGxzIENvdW50IExhYiBUZXN0Il0gRmlyc3RXQkNDb3VudA0KICAgICAgd2hlcmUgRmlyc3RXQkNDb3VudC5zdGF0dXMgaW4geyAnZmluYWwnLCAnYW1lbmRlZCcsICdjb3JyZWN0ZWQnIH0NCiAgICAgICAgYW5kIEZpcnN0V0JDQ291bnQuaXNFYXJsaWVzdER1cmluZ0hvc3BpdGFsaXphdGlvbihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gRmlyc3RCbG9vZFVyZWFOaXRyb2dlbihRdWFsaWZ5aW5nRW5jb3VudGVyIEVuY291bnRlcik6DQogIEZpcnN0KFtMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb246ICJCbG9vZCBVcmVhIE5pdHJvZ2VuIExhYiBUZXN0Il0gRmlyc3RCVU4NCiAgICAgIHdoZXJlIEZpcnN0QlVOLnN0YXR1cyBpbiB7ICdmaW5hbCcsICdhbWVuZGVkJywgJ2NvcnJlY3RlZCcgfQ0KICAgICAgICBhbmQgRmlyc3RCVU4uaXNFYXJsaWVzdER1cmluZ0hvc3BpdGFsaXphdGlvbihRdWFsaWZ5aW5nRW5jb3VudGVyKQ0KICAgICAgc29ydCBieSBlZmZlY3RpdmUuZWFybGllc3QoKQ0KICApLnZhbHVlIGFzIFF1YW50aXR5DQoNCmRlZmluZSAiQW5lc3RoZXNpYSBQcm9jZWR1cmUgTGlzdCI6DQogIFsiUHJvY2VkdXJlIjogIkdlbmVyYWwgQW5kIE5ldXJheGlhbCBBbmVzdGhlc2lhIl0gQW5lc3RoZXNpYVByb2NlZHVyZXMNCiAgICB3aGVyZSBBbmVzdGhlc2lhUHJvY2VkdXJlcy5wZXJmb3JtZWQubGF0ZXN0ICggKSBkdXJpbmcgZGF5IG9mICJNZWFzdXJlbWVudCBQZXJpb2QiDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gIkZpcnN0QW5lc3RoZXNpYUR1cmluZ0hvc3BpdGFsaXphdGlvbiIoUXVhbGlmeWluZ0VuY291bnRlciBFbmNvdW50ZXIpOg0KICBGaXJzdCgiQW5lc3RoZXNpYSBQcm9jZWR1cmUgTGlzdCIgYW5lc3RoZXNpYQ0KICAgICAgd2hlcmUgYW5lc3RoZXNpYS5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgICBhbmQgYW5lc3RoZXNpYS5zdGFydHNEdXJpbmdIb3NwaXRhbGl6YXRpb24oUXVhbGlmeWluZ0VuY291bnRlcikNCiAgICAgIHNvcnQgYnkgc3RhcnQgb2YgcGVyZm9ybWVkLnRvSW50ZXJ2YWwoKQ0KICApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gTGF0ZXN0R2VuZXJhbEFuZXN0aGVzaWFPck1BQyhldmVudCBQcm9jZWR1cmUpOg0KICBMYXN0KCJHZW5lcmFsIEFuZXN0aGVzaWEgQW5kIE1BQyIgUHJvY2VkdXJlTGlzdA0KICAgICAgd2hlcmUgUHJvY2VkdXJlTGlzdC5zdGF0dXMgPSAnY29tcGxldGVkJw0KICAgICAgICBhbmQgUHJvY2VkdXJlTGlzdC5wZXJmb3JtZWQudG9JbnRlcnZhbCgpIGVuZHMgYmVmb3JlIHN0YXJ0IG9mIGV2ZW50LnBlcmZvcm1lZC50b0ludGVydmFsKCkNCiAgICAgIHNvcnQgYnkgc3RhcnQgb2YgcGVyZm9ybWVkLnRvSW50ZXJ2YWwoKQ0KICApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gc3RhcnRzRHVyaW5nSG9zcGl0YWxpemF0aW9uKGNob2ljZSBDaG9pY2U8UHJvY2VkdXJlLCBMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24sIE9ic2VydmF0aW9uU2NyZWVuaW5nQXNzZXNzbWVudD4sIGVuYyBFbmNvdW50ZXIpOg0KICBjYXNlDQogICAgd2hlbiBjaG9pY2UgaXMgUHJvY2VkdXJlIHRoZW4gKCBjaG9pY2UgYXMgUHJvY2VkdXJlICkucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApIHN0YXJ0cyBkdXJpbmcgQ1FNQ29tbW9uLiJIb3NwaXRhbGl6YXRpb25XaXRoT2JzZXJ2YXRpb25BbmRPdXRwYXRpZW50U3VyZ2VyeVNlcnZpY2UiICggZW5jICkNCiAgICB3aGVuIGNob2ljZSBpcyBMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24gdGhlbiAoIGNob2ljZSBhcyBMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24gKS5lZmZlY3RpdmUudG9JbnRlcnZhbCAoICkgc3RhcnRzIGR1cmluZyBDUU1Db21tb24uIkhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSIgKCBlbmMgKQ0KICAgIHdoZW4gY2hvaWNlIGlzIE9ic2VydmF0aW9uU2NyZWVuaW5nQXNzZXNzbWVudCB0aGVuICggY2hvaWNlIGFzIE9ic2VydmF0aW9uU2NyZWVuaW5nQXNzZXNzbWVudCApLmVmZmVjdGl2ZS50b0ludGVydmFsICggKSBzdGFydHMgZHVyaW5nIENRTUNvbW1vbi4iSG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlIiAoIGVuYyApIA0KICAgIGVsc2UgZmFsc2UgZW5kDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gc3RhcnRzMzBEYXlzT3JMZXNzQWZ0ZXJGaXJzdEFuZXN0aGVzaWEocHJvY2VkdXJlIFByb2NlZHVyZSwgZW5jb3VudGVyIEVuY291bnRlcik6DQogIHByb2NlZHVyZS5wZXJmb3JtZWQudG9JbnRlcnZhbCAoICkgc3RhcnRzIDMwIGRheXMgb3IgbGVzcyBhZnRlciBlbmQgb2YgZW5jb3VudGVyLkZpcnN0QW5lc3RoZXNpYUR1cmluZ0hvc3BpdGFsaXphdGlvbiAoICkucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gaXNOb3RBdFByb2NlZHVyYWxIb3NwaXRhbExvY2F0aW9uKGVuY291bnRlciBFbmNvdW50ZXIpOg0KICBub3QgZXhpc3RzICggZW5jb3VudGVyLmxvY2F0aW9uIEVuY291bnRlckxvY2F0aW9uDQogICAgICB3aXRoIFtMb2NhdGlvbl0gTG9jYXRpb24NCiAgICAgICAgc3VjaCB0aGF0IEVuY291bnRlckxvY2F0aW9uLmxvY2F0aW9uLnJlZmVyZW5jZXMgKCBMb2NhdGlvbiApDQogICAgICAgICAgYW5kIExvY2F0aW9uLnR5cGUuaW5jbHVkZXNDb2RlICggIkVSIiApDQogICkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBpc05vdEF0UHJvY2VkdXJhbEhvc3BpdGFsTG9jYXRpb25EdXJpbmcoZW5jb3VudGVyIEVuY291bnRlciwgaW50cnZsIEludGVydmFsPERhdGVUaW1lPik6DQogIG5vdCBleGlzdHMgKCBlbmNvdW50ZXIubG9jYXRpb24gRW5jb3VudGVyTG9jYXRpb24NCiAgICAgIHdpdGggW0xvY2F0aW9uXSBMb2NhdGlvbg0KICAgICAgICBzdWNoIHRoYXQgRW5jb3VudGVyTG9jYXRpb24ubG9jYXRpb24ucmVmZXJlbmNlcyAoIExvY2F0aW9uICkNCiAgICAgICAgICBhbmQgTG9jYXRpb24udHlwZS5pbmNsdWRlc0NvZGUgKCAiRVIiICkNCiAgICAgICAgICBhbmQgRW5jb3VudGVyTG9jYXRpb24ucGVyaW9kIHN0YXJ0cyBkdXJpbmcgaW50cnZsDQogICkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBpc0R1cmluZ0hvc3BpdGFsaXphdGlvbihjaG9pY2UgQ2hvaWNlPFByb2NlZHVyZSwgTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uPiwgZW5jIEVuY291bnRlcik6DQogIGNhc2UNCiAgICB3aGVuIGNob2ljZSBpcyBQcm9jZWR1cmUgdGhlbiBRSUNvcmVDb21tb24uVG9JbnRlcnZhbCAoICggY2hvaWNlIGFzIFByb2NlZHVyZSApLnBlcmZvcm1lZCApIGR1cmluZyBDUU1Db21tb24uIkhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSIgKCBlbmMgKQ0KICAgIHdoZW4gY2hvaWNlIGlzIExhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbiB0aGVuIFFJQ29yZUNvbW1vbi5Ub0ludGVydmFsICggKCBjaG9pY2UgYXMgTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uICkuZWZmZWN0aXZlICkgZHVyaW5nIENRTUNvbW1vbi4iSG9zcGl0YWxpemF0aW9uV2l0aE9ic2VydmF0aW9uQW5kT3V0cGF0aWVudFN1cmdlcnlTZXJ2aWNlIiAoIGVuYyApIA0KICAgIGVsc2UgZmFsc2UgZW5kDQoNCmRlZmluZSBmbHVlbnQgZnVuY3Rpb24gZWFybGllc3RPY2N1cnNEdXJpbmdIb3NwaXRhbGl6YXRpb24ob2JzZXJ2YXRpb24gTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uLCBlbmNvdW50ZXIgRW5jb3VudGVyKToNCiAgb2JzZXJ2YXRpb24uZWZmZWN0aXZlLmVhcmxpZXN0ICggKSBkdXJpbmcgZW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSAoICkNCiAgICBhbmQgb2JzZXJ2YXRpb24udmFsdWUgaXMgbm90IG51bGwNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBlYXJsaWVzdElzRHVyaW5nSG9zcGl0YWxpemF0aW9uKHByb2NlZHVyZSBQcm9jZWR1cmUsIGVuY291bnRlciBFbmNvdW50ZXIpOg0KICBwcm9jZWR1cmUucGVyZm9ybWVkLmVhcmxpZXN0ICggKSBkdXJpbmcgZW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbldpdGhPYnNlcnZhdGlvbkFuZE91dHBhdGllbnRTdXJnZXJ5U2VydmljZSAoICkNCiAgICBhbmQgcHJvY2VkdXJlLnBhcnRPZiBpcyBub3QgbnVsbA0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGlzRWFybGllc3REdXJpbmdIb3NwaXRhbGl6YXRpb24oY2hvaWNlIENob2ljZTxQcm9jZWR1cmUsIExhYm9yYXRvcnlSZXN1bHRPYnNlcnZhdGlvbj4sIGVuY291bnRlciBFbmNvdW50ZXIpOg0KICBjYXNlDQogICAgd2hlbiBjaG9pY2UgaXMgUHJvY2VkdXJlIHRoZW4gKCBjaG9pY2UgYXMgUHJvY2VkdXJlICkuZWFybGllc3RJc0R1cmluZ0hvc3BpdGFsaXphdGlvbiAoIGVuY291bnRlciApDQogICAgd2hlbiBjaG9pY2UgaXMgTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIHRoZW4gKCBjaG9pY2UgYXMgTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uICkuZWFybGllc3RPY2N1cnNEdXJpbmdIb3NwaXRhbGl6YXRpb24gKCBlbmNvdW50ZXIgKSANCiAgICBlbHNlIGZhbHNlIGVuZA0KDQpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGludGVydmFsKGNob2ljZSBDaG9pY2U8UHJvY2VkdXJlLCBMYWJvcmF0b3J5UmVzdWx0T2JzZXJ2YXRpb24sIEVuY291bnRlcj4pOg0KICBjYXNlDQogICAgd2hlbiBjaG9pY2UgaXMgUHJvY2VkdXJlIHRoZW4gKCBjaG9pY2UgYXMgUHJvY2VkdXJlICkucGVyZm9ybWVkLnRvSW50ZXJ2YWwgKCApDQogICAgd2hlbiBjaG9pY2UgaXMgTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uIHRoZW4gKCBjaG9pY2UgYXMgTGFib3JhdG9yeVJlc3VsdE9ic2VydmF0aW9uICkuZWZmZWN0aXZlLnRvSW50ZXJ2YWwgKCApDQogICAgd2hlbiBjaG9pY2UgaXMgRW5jb3VudGVyIHRoZW4gKCBjaG9pY2UgYXMgRW5jb3VudGVyICkucGVyaW9kLnRvSW50ZXJ2YWwgKCApIA0KICAgIGVsc2UgbnVsbCBhcyBJbnRlcnZhbDxEYXRlVGltZT5lbmQNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiByYW5rKHRhcmdldFByb2NlZHVyZSBQcm9jZWR1cmUsIHBhcmVudEVuY291bnRlciBFbmNvdW50ZXIpOg0KICBzaW5nbGV0b24gZnJvbSAoIHRhcmdldFByb2NlZHVyZSBQDQogICAgICBsZXQgY2xhaW06ICggW0NsYWltXSBDDQogICAgICAgICAgd2hlcmUgQy5zdGF0dXMgPSAnYWN0aXZlJw0KICAgICAgICAgICAgYW5kIEMudXNlID0gJ2NsYWltJw0KICAgICAgICAgICAgYW5kIGV4aXN0cyAoIEMuaXRlbSBJDQogICAgICAgICAgICAgICAgd2hlcmUgSS5lbmNvdW50ZXIucmVmZXJlbmNlcyAoIHBhcmVudEVuY291bnRlciApDQogICAgICAgICAgICApDQogICAgICApLA0KICAgICAgY2xhaW1Qcm9jOiAoIGNsYWltLnByb2NlZHVyZSBwcm9jDQogICAgICAgICAgd2hlcmUgcHJvYy5wcm9jZWR1cmUucmVmZXJlbmNlcyAoIFAgKQ0KICAgICAgKQ0KICAgICAgcmV0dXJuIGNsYWltUHJvYy5zZXF1ZW5jZSBSDQogICkNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBjbGFpbURpYWdub3Nlc1dpdGhQT0EoZW5jb3VudGVyIEVuY291bnRlcik6DQogIGVuY291bnRlciBFDQogICAgbGV0IGNsYWltOiAoIFtDbGFpbV0gQw0KICAgICAgICB3aGVyZSBDLnN0YXR1cyA9ICdhY3RpdmUnDQogICAgICAgICAgYW5kIEMudXNlID0gJ2NsYWltJw0KICAgICAgICAgIGFuZCBleGlzdHMgKCBDLml0ZW0gSQ0KICAgICAgICAgICAgICB3aGVyZSBJLmVuY291bnRlci5yZWZlcmVuY2VzICggRSApDQogICAgICAgICAgKQ0KICAgICksDQogICAgY2xhaW1JdGVtOiAoIGNsYWltLml0ZW0gSQ0KICAgICAgICB3aGVyZSBJLmVuY291bnRlci5yZWZlcmVuY2VzICggRSApDQogICAgKQ0KICAgIHJldHVybiBjbGFpbS5kaWFnbm9zaXMgRA0KICAgICAgd2hlcmUgRC5zZXF1ZW5jZSBpbiBjbGFpbUl0ZW0uZGlhZ25vc2lzU2VxdWVuY2UNCiAgICAgICAgYW5kIEQub25BZG1pc3Npb24gaXMgbm90IG51bGwNCg0KZGVmaW5lIGZsdWVudCBmdW5jdGlvbiBlbmNvdW50ZXJSZWFzb24oRW5jb3VudGVyIEVuY291bnRlcik6DQogIC8vIFRoZXJlIGlzIGEgcHJvYmxlbSBpbiB0aGUgQ1FNQ29tbW9uIGZsdWVudCBmdW5jdGlvbiAnZW5jb3VudGVyRGlhZ25vc2lzJyB3aGVyZWluIHRoZSB1bmlvbiBvcGVyYXRpb24gaXNuJ3Qgd29ya2luZyBhcyB1c2VkLg0KICAvLyBUaGlzIGZ1bmN0aW9uIGZpeGVzIHRoYXQgdXNhZ2UsIGJ1dCBzaG91bGQgYmUgY29uc2lkZXJlZCB0ZW1wb3JhcnkgdW50aWwgdGhlIGxpYnJhcnkgZnVuY3Rpb24gd29ya3MgcHJvcGVybHkgICANCiAgDQogIA0KICBFbmNvdW50ZXIucmVhc29uUmVmZXJlbmNlIEQNCiAgICByZXR1cm4gc2luZ2xldG9uIGZyb20gKCAoIFtDb25kaXRpb25FbmNvdW50ZXJEaWFnbm9zaXNdIGNBDQogICAgICAgIHVuaW9uIFtDb25kaXRpb25Qcm9ibGVtc0hlYWx0aENvbmNlcm5zXSBjQiApIEMNCiAgICAgICAgd2hlcmUgRC5yZWZlcmVuY2VzICggQy5pZCApDQogICAgKQ=="
  } ]
}